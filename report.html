<html>
    <head>
        <style>
            .heading-level-1,
            .heading-level-2,
            .heading-level-3,
            .heading-level-4,
            .heading-level-5,
            .heading-level-6 {
                position: relative;
                font-size: 1em;
                border-top: 1px solid #000;
            }
            .heading-level-1:before,
            .heading-level-2:before,
            .heading-level-3:before,
            .heading-level-4:before,
            .heading-level-5:before,
            .heading-level-6:before {
                position: absolute;
                top: 1em;
                left: 0;
                border-right: 1px solid #000;
                padding-right: 1em;
            }
            .heading-level-1 {
                padding-left: 2em;
            }
            .heading-level-1:before {
                content: "1";
            }
            .heading-level-2 {
                padding-left: 3em;
            }
            .heading-level-2:before {
                content: "2";
            }
            .heading-level-3 {
                padding-left: 4em;
            }
            .heading-level-3:before {
                content: "3";
            }
            .heading-level-4 {
                padding-left: 5em;
            }
            .heading-level-4:before {
                content: "4";
            }
            .heading-level-5 {
                padding-left: 6em;
            }
            .heading-level-5:before {
                content: "5";
            }
            .heading-level-6 {
                padding-left: 7em;
            }
            .heading-level-6:before {
                content: "6";
            }
            h1, h2, h3, h4, h5, h6 {
                display: inline-block;
                font-size: 1em;
            }
        </style>
    </head>
    <body>
        
            
        
            
            <div class="heading-level-1">
                <details>
                    <summary>
                        <h1 id="python-client-documentation">Python client documentation</h1>
                    </summary>
                    <div class="contents">
                        <p>This documentation is for developers interested in using the GOV.UK Notify Python client to send emails, text messages or letters.
Notify supports Python 3.7 and higher.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-2">
            <h2 id="set-up-the-client">Set up the client</h2>
        </div>
    
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="install-the-client">Install the client</h3>
                    </summary>
                    <div class="contents">
                        <p>Run the following code in the command line:</p><div class="highlight"><pre class="highlight shell" tabindex="0"><code>pip <span class="nb">install </span>notifications-python-client
</code></pre></div><pre class="highlight shell" tabindex="0"><code>pip <span class="nb">install </span>notifications-python-client
</code></pre><code>pip <span class="nb">install </span>notifications-python-client
</code><span class="nb">install </span><p>Refer to the <a href="https://github.com/alphagov/notifications-python-client/blob/main/CHANGELOG.md">client changelog</a> for the client version number and the latest updates.</p><a href="https://github.com/alphagov/notifications-python-client/blob/main/CHANGELOG.md">client changelog</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="create-a-new-instance-of-the-client">Create a new instance of the client</h3>
                    </summary>
                    <div class="contents">
                        <p>Add this code to your application:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client.notifications</span> <span class="kn">import</span> <span class="n">NotificationsAPIClient</span>

<span class="n">notifications_client</span> <span class="o">=</span> <span class="n">NotificationsAPIClient</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client.notifications</span> <span class="kn">import</span> <span class="n">NotificationsAPIClient</span>

<span class="n">notifications_client</span> <span class="o">=</span> <span class="n">NotificationsAPIClient</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
</code></pre><code><span class="kn">from</span> <span class="nn">notifications_python_client.notifications</span> <span class="kn">import</span> <span class="n">NotificationsAPIClient</span>

<span class="n">notifications_client</span> <span class="o">=</span> <span class="n">NotificationsAPIClient</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
</code><span class="kn">from</span><span class="nn">notifications_python_client.notifications</span><span class="kn">import</span><span class="n">NotificationsAPIClient</span><span class="n">notifications_client</span><span class="o">=</span><span class="n">NotificationsAPIClient</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="api-key-required">api_key (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>To get an API key, <a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a> and go to the <strong>API integration</strong> page. You can find more information in the <a href="#api-keys">API keys</a> section of this documentation.</p><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a><strong>API integration</strong><a href="#api-keys">API keys</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="timeout-optional">timeout (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>The default timeout is 30 seconds. For more information about timeouts see https://docs.python-requests.org/en/latest/user/advanced/#timeouts.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="send-a-message">Send a message</h2>
                    </summary>
                    <div class="contents">
                        <p>You can use GOV.UK Notify to send text messages, emails and letters.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="send-a-text-message">Send a text message</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_sms_notification</span><span class="p">(</span>
    <span class="n">phone_number</span><span class="o">=</span><span class="s">'+447900900123'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_sms_notification</span><span class="p">(</span>
    <span class="n">phone_number</span><span class="o">=</span><span class="s">'+447900900123'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_sms_notification</span><span class="p">(</span>
    <span class="n">phone_number</span><span class="o">=</span><span class="s">'+447900900123'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">send_sms_notification</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="s">'+447900900123'</span><span class="p">,</span><span class="c1"># required string
</span><span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required UUID string
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="send-a-text-message-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="phone-number-required">phone_number (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The phone number of the recipient of the text message. This can be a UK or international number.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>To find the template ID:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Templates</strong> page and select the relevant template.</li>
<li>Select <strong>Copy template ID to clipboard</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Templates</strong> page and select the relevant template.</li><strong>Templates</strong><li>Select <strong>Copy template ID to clipboard</strong>.</li><strong>Copy template ID to clipboard</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="personalisation-optional">personalisation (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>If a template has placeholder fields for personalised information such as name or reference number, you must provide their values in a dictionary with key value pairs. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="p">}</span><p>You can leave out this argument if a template does not have any placeholder fields for personalised information.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="reference-optional">reference (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier you can create if necessary. This reference identifies a single unique message or a batch of messages. It must not contain any personal information such as name or postal address. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span><span class="c1"># optional string - identifies notification(s)
</span><p>You can leave out this argument if you do not have a reference.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="sms-sender-id-optional">sms_sender_id (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier of the sender of the text message.</p><p>To find the text message sender:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Settings</strong> page.</li>
<li>In the <strong>Text Messages</strong> section, select <strong>Manage</strong> on the <strong>Text Message sender</strong> row.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Settings</strong> page.</li><strong>Settings</strong><li>In the <strong>Text Messages</strong> section, select <strong>Manage</strong> on the <strong>Text Message sender</strong> row.</li><strong>Text Messages</strong><strong>Manage</strong><strong>Text Message sender</strong><p>You can then either:</p><ul>
<li>copy the sender ID that you want to use and paste it into the method</li>
<li>select <strong>Change</strong> to change the default sender that the service will use, and select <strong>Save</strong></li>
</ul><li>copy the sender ID that you want to use and paste it into the method</li><li>select <strong>Change</strong> to change the default sender that the service will use, and select <strong>Save</strong></li><strong>Change</strong><strong>Save</strong><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">sms_sender_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">sms_sender_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code></pre><code><span class="n">sms_sender_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code><span class="n">sms_sender_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span><span class="c1"># optional UUID string
</span><p>You can leave out this argument if your service only has one text message sender, or if you want to use the default sender.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>:</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_number"</span><span class="p">:</span> <span class="s">"SENDER"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_number"</span><span class="p">:</span> <span class="s">"SENDER"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_number"</span><span class="p">:</span> <span class="s">"SENDER"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"reference"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="s">"content"</span><span class="p">:</span><span class="p">{</span><span class="s">"body"</span><span class="p">:</span><span class="s">"MESSAGE TEXT"</span><span class="p">,</span><span class="s">"from_number"</span><span class="p">:</span><span class="s">"SENDER"</span><span class="p">},</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"template"</span><span class="p">:</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd"</span><span class="p">}</span><span class="p">}</span><p>If you are using the <a href="#test">test API key</a>, all your messages will come back with a <code>delivered</code> status.</p><a href="#test">test API key</a><code>delivered</code><p>All messages sent using the <a href="#team-and-guest-list">team and guest list</a> or <a href="#live">live</a> keys will appear on your dashboard.</p><a href="#team-and-guest-list">team and guest list</a><a href="#live">live</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code.</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this text message in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your text message.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this text message in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your text message.</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code><td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td><a href="#api-keys">API key</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this text message in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code><td style="text-align: left">Your service cannot send this text message in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td><a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td><a href="#rate-limits">API rate limits</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td><a href="#daily-limits">service limits</a><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your text message.</td>
</tr><td style="text-align: left"><code>500</code></td><code>500</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code><td style="text-align: left">Notify was unable to process the request, resend your text message.</td>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="send-an-email">Send an email</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-an-email-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_email_notification</span><span class="p">(</span>
    <span class="n">email_address</span><span class="o">=</span><span class="s">'sender@something.com'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_email_notification</span><span class="p">(</span>
    <span class="n">email_address</span><span class="o">=</span><span class="s">'sender@something.com'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_email_notification</span><span class="p">(</span>
    <span class="n">email_address</span><span class="o">=</span><span class="s">'sender@something.com'</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">send_email_notification</span><span class="p">(</span><span class="n">email_address</span><span class="o">=</span><span class="s">'sender@something.com'</span><span class="p">,</span><span class="c1"># required string
</span><span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required UUID string
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="send-an-email-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="email-address-required">email_address (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The email address of the recipient.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="send-an-email-arguments-template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>To find the template ID:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Templates</strong> page and select the relevant template.</li>
<li>Select <strong>Copy template ID to clipboard</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Templates</strong> page and select the relevant template.</li><strong>Templates</strong><li>Select <strong>Copy template ID to clipboard</strong>.</li><strong>Copy template ID to clipboard</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="send-an-email-arguments-personalisation-optional">personalisation (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>If a template has placeholder fields for personalised information such as name or reference number, you need to provide their values in a dictionary with key value pairs. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Amala"</span><span class="p">,</span>
    <span class="s">"application_date"</span><span class="p">:</span> <span class="s">"2018-01-01"</span><span class="p">,</span>
    <span class="c1"># pass in a list and it will appear as bullet points in the message:
</span>    <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Amala"</span><span class="p">,</span>
    <span class="s">"application_date"</span><span class="p">:</span> <span class="s">"2018-01-01"</span><span class="p">,</span>
    <span class="c1"># pass in a list and it will appear as bullet points in the message:
</span>    <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code></pre><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Amala"</span><span class="p">,</span>
    <span class="s">"application_date"</span><span class="p">:</span> <span class="s">"2018-01-01"</span><span class="p">,</span>
    <span class="c1"># pass in a list and it will appear as bullet points in the message:
</span>    <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">"first_name"</span><span class="p">:</span><span class="s">"Amala"</span><span class="p">,</span><span class="s">"application_date"</span><span class="p">:</span><span class="s">"2018-01-01"</span><span class="p">,</span><span class="c1"># pass in a list and it will appear as bullet points in the message:
</span><span class="s">"required_documents"</span><span class="p">:</span><span class="p">[</span><span class="s">"passport"</span><span class="p">,</span><span class="s">"utility bill"</span><span class="p">,</span><span class="s">"other id"</span><span class="p">],</span><span class="p">}</span><p>You can leave out this argument if a template does not have any placeholder fields for personalised information.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="send-an-email-arguments-reference-optional">reference (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier you can create if necessary. This reference identifies a single unique email or a batch of emails. It must not contain any personal information such as name or postal address. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span> <span class="c1"># optional string - identifies notification(s)
</span></code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="p">,</span><span class="c1"># optional string - identifies notification(s)
</span><p>You can leave out this argument if you do not have a reference.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="one-click-unsubscribe-url-optional">one_click_unsubscribe_url (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>The one-click unsubscribe URL will be added to the headers of your email. Email clients will use it to add an unsubscribe button.</p><p>Read our Using Notify page for more information about <a href="https://www.notifications.service.gov.uk/using-notify/unsubscribe-links">unsubscribe links</a>.</p><a href="https://www.notifications.service.gov.uk/using-notify/unsubscribe-links">unsubscribe links</a><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">one_click_unsubscribe_url</span> <span class="o">=</span> <span class="s">'https://example.com/unsubscribe.html?opaque=123456789'</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">one_click_unsubscribe_url</span> <span class="o">=</span> <span class="s">'https://example.com/unsubscribe.html?opaque=123456789'</span>
</code></pre><code><span class="n">one_click_unsubscribe_url</span> <span class="o">=</span> <span class="s">'https://example.com/unsubscribe.html?opaque=123456789'</span>
</code><span class="n">one_click_unsubscribe_url</span><span class="o">=</span><span class="s">'https://example.com/unsubscribe.html?opaque=123456789'</span><p>The one-click unsubscribe URL must respond to an empty <code>POST</code> request by unsubscribing the user from your emails. You can include query parameters to help you identify the user.</p><code>POST</code><p>Your unsubscribe URL and response must comply with the guidance specified in <a href="https://www.rfcreader.com/#rfc8058_line139">Section 3.1 of IETF RFC 8058</a>.</p><a href="https://www.rfcreader.com/#rfc8058_line139">Section 3.1 of IETF RFC 8058</a><p>You can leave out this argument if the email being sent is not a subscription email.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="email-reply-to-id-optional">email_reply_to_id (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>This is an email address specified by you to receive replies from your users. You must add at least one reply-to email address before your service can go live.</p><p>To add a reply-to email address:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Settings</strong> page.</li>
<li>In the <strong>Email</strong> section, select <strong>Manage</strong> on the <strong>Reply-to email addresses</strong> row.</li>
<li>Select <strong>Add reply-to address</strong>.</li>
<li>Enter the email address you want to use, and select <strong>Add</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Settings</strong> page.</li><strong>Settings</strong><li>In the <strong>Email</strong> section, select <strong>Manage</strong> on the <strong>Reply-to email addresses</strong> row.</li><strong>Email</strong><strong>Manage</strong><strong>Reply-to email addresses</strong><li>Select <strong>Add reply-to address</strong>.</li><strong>Add reply-to address</strong><li>Enter the email address you want to use, and select <strong>Add</strong>.</li><strong>Add</strong><p>For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">email_reply_to_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">email_reply_to_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code></pre><code><span class="n">email_reply_to_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span> <span class="c1"># optional UUID string
</span></code><span class="n">email_reply_to_id</span><span class="o">=</span><span class="s">'8e222534-7f05-4972-86e3-17c5d9f894e2'</span><span class="c1"># optional UUID string
</span><p>You can leave out this argument if your service only has one reply-to email address, or you want to use the default email address.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="send-a-file-by-email">Send a file by email</h3>
                    </summary>
                    <div class="contents">
                        <p>To send a file by email, add a placeholder to the template then upload a file. The placeholder will contain a secure link to download the file.</p><p>The links are unique and unguessable. GOV.UK Notify cannot access or decrypt your file.</p><p>Your file will be available to download for a default period of 26 weeks (6 months).</p><p>To help protect your files you can also:</p><ul>
<li>ask recipients to confirm their email address before downloading</li>
<li>choose the length of time that a file is available to download</li>
</ul><li>ask recipients to confirm their email address before downloading</li><li>choose the length of time that a file is available to download</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="add-contact-details-to-the-file-download-page">Add contact details to the file download page</h4>
                    </summary>
                    <div class="contents">
                        <ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Settings</strong> page.</li>
<li>In the <strong>Email</strong> section, select <strong>Manage</strong> on the <strong>Send files by email</strong> row.</li>
<li>Enter the contact details you want to use, and select <strong>Save</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Settings</strong> page.</li><strong>Settings</strong><li>In the <strong>Email</strong> section, select <strong>Manage</strong> on the <strong>Send files by email</strong> row.</li><strong>Email</strong><strong>Manage</strong><strong>Send files by email</strong><li>Enter the contact details you want to use, and select <strong>Save</strong>.</li><strong>Save</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="add-a-placeholder-to-the-template">Add a placeholder to the template</h4>
                    </summary>
                    <div class="contents">
                        <ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Templates</strong> page and select the relevant email template.</li>
<li>Select <strong>Edit</strong>.</li>
<li>Add a placeholder to the email template using double brackets. For example: “Download your file at: ((link_to_file))”</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Templates</strong> page and select the relevant email template.</li><strong>Templates</strong><li>Select <strong>Edit</strong>.</li><strong>Edit</strong><li>Add a placeholder to the email template using double brackets. For example: “Download your file at: ((link_to_file))”</li><p>Your email should also tell recipients how long the file will be available to download.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="upload-your-file">Upload your file</h4>
                    </summary>
                    <div class="contents">
                        <p>You can upload PDF, CSV, JSON, .odt, .txt, .rtf, .xlsx and MS Word Document files. Your file must be smaller than 2MB. <a href="https://www.notifications.service.gov.uk/support/ask-question-give-feedback">Contact the GOV.UK Notify team</a> if you need to send other file types.</p><a href="https://www.notifications.service.gov.uk/support/ask-question-give-feedback">Contact the GOV.UK Notify team</a><p>Pass the file object as a value into the personalisation argument. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>
    <span class="p">}</span>
</code><span class="kn">from</span><span class="nn">notifications_python_client</span><span class="kn">import</span><span class="n">prepare_upload</span><span class="k">with</span><span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span><span class="s">'rb'</span><span class="p">)</span><span class="k">as</span><span class="n">f</span><span class="p">:</span><span class="p">...</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="s">'link_to_file'</span><span class="p">:</span><span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">),</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="set-the-filename">Set the filename</h4>
                    </summary>
                    <div class="contents">
                        <p>To do this you will need version 9.0.0 of the Python client library, or a more recent version.</p><p>You should provide a filename when you upload your file.</p><p>The filename should tell the recipient what the file contains. A memorable filename can help the recipient to find the file again later.</p><p>The filename must end with a file extension. For example, <code>.csv</code> for a CSV file. If you include the wrong file extension, recipients may not be able to open your file.</p><code>.csv</code><p>If you do not provide a filename for your file, Notify will:</p><ul>
<li>generate a random filename</li>
<li>try to add the correct file extension</li>
</ul><li>generate a random filename</li><li>try to add the correct file extension</li><p>If Notify cannot add the correct file extension, recipients may not be able to open your file.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.csv'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'2023-12-25-daily-report.csv'</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.csv'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'2023-12-25-daily-report.csv'</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.csv'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'2023-12-25-daily-report.csv'</span><span class="p">),</span>
    <span class="p">}</span>
</code><span class="kn">from</span><span class="nn">notifications_python_client</span><span class="kn">import</span><span class="n">prepare_upload</span><span class="k">with</span><span class="nb">open</span><span class="p">(</span><span class="s">'file.csv'</span><span class="p">,</span><span class="s">'rb'</span><span class="p">)</span><span class="k">as</span><span class="n">f</span><span class="p">:</span><span class="p">...</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="s">'link_to_file'</span><span class="p">:</span><span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s">'2023-12-25-daily-report.csv'</span><span class="p">),</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="ask-recipients-to-confirm-their-email-address-before-they-can-download-the-file">Ask recipients to confirm their email address before they can download the file</h4>
                    </summary>
                    <div class="contents">
                        <p>When a recipient clicks the link in the email you’ve sent them, they have to enter their email address. Only someone who knows the recipient’s email address can download the file.</p><p>This security feature is turned on by default.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="turn-off-email-address-check-not-recommended">Turn off email address check (not recommended)</h5>
                    </summary>
                    <div class="contents">
                        <p>If you do not want to use this feature, you can turn it off on a file-by-file basis.</p><p>To do this you will need version 6.4.0 of the Python client library, or a more recent version.</p><p>You should not turn this feature off if you send files that contain:</p><ul>
<li>personally identifiable information</li>
<li>commercially sensitive information</li>
<li>information classified as ‘OFFICIAL’ or ‘OFFICIAL-SENSITIVE’ under the <a href="https://www.gov.uk/government/publications/government-security-classifications">Government Security Classifications</a> policy</li>
</ul><li>personally identifiable information</li><li>commercially sensitive information</li><li>information classified as ‘OFFICIAL’ or ‘OFFICIAL-SENSITIVE’ under the <a href="https://www.gov.uk/government/publications/government-security-classifications">Government Security Classifications</a> policy</li><a href="https://www.gov.uk/government/publications/government-security-classifications">Government Security Classifications</a><p>To let the recipient download the file without confirming their email address, set the <code>confirm_email_before_download</code> flag to <code>False</code>.</p><code>confirm_email_before_download</code><code>False</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">confirm_email_before_download</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">confirm_email_before_download</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">confirm_email_before_download</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
    <span class="p">}</span>
</code><span class="kn">from</span><span class="nn">notifications_python_client</span><span class="kn">import</span><span class="n">prepare_upload</span><span class="k">with</span><span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span><span class="s">'rb'</span><span class="p">)</span><span class="k">as</span><span class="n">f</span><span class="p">:</span><span class="p">...</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="s">'link_to_file'</span><span class="p">:</span><span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">confirm_email_before_download</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="choose-the-length-of-time-that-a-file-is-available-to-download">Choose the length of time that a file is available to download</h4>
                    </summary>
                    <div class="contents">
                        <p>Set the number of weeks you want the file to be available using the <code>retention_period</code> key.</p><code>retention_period</code><p>To use this feature will need version 6.4.0 of the Python client library, or a more recent version.</p><p>You can choose any value between 1 week and 78 weeks. When deciding this, you should consider:</p><ul>
<li>the need to protect the recipient’s personal information</li>
<li>whether the recipient will need to download the file again later</li>
</ul><li>the need to protect the recipient’s personal information</li><li>whether the recipient will need to download the file again later</li><p>If you do not choose a value, the file will be available for the default period of 26 weeks (6 months).</p><p>Files sent before 12 April 2023 had a longer default period of 78 weeks (18 months).</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">retention_period</span><span class="o">=</span><span class="s">'4 weeks'</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">retention_period</span><span class="o">=</span><span class="s">'4 weeks'</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre><code><span class="kn">from</span> <span class="nn">notifications_python_client</span> <span class="kn">import</span> <span class="n">prepare_upload</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
      <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
      <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
      <span class="s">'link_to_file'</span><span class="p">:</span> <span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">retention_period</span><span class="o">=</span><span class="s">'4 weeks'</span><span class="p">),</span>
    <span class="p">}</span>
</code><span class="kn">from</span><span class="nn">notifications_python_client</span><span class="kn">import</span><span class="n">prepare_upload</span><span class="k">with</span><span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span><span class="s">'rb'</span><span class="p">)</span><span class="k">as</span><span class="n">f</span><span class="p">:</span><span class="p">...</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="s">'link_to_file'</span><span class="p">:</span><span class="n">prepare_upload</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">retention_period</span><span class="o">=</span><span class="s">'4 weeks'</span><span class="p">),</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-file-by-email-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>:</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_email"</span><span class="p">:</span> <span class="s">"SENDER EMAIL"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_email"</span><span class="p">:</span> <span class="s">"SENDER EMAIL"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"MESSAGE TEXT"</span><span class="p">,</span>
    <span class="s">"from_email"</span><span class="p">:</span> <span class="s">"SENDER EMAIL"</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"reference"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="s">"content"</span><span class="p">:</span><span class="p">{</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"SUBJECT TEXT"</span><span class="p">,</span><span class="s">"body"</span><span class="p">:</span><span class="s">"MESSAGE TEXT"</span><span class="p">,</span><span class="s">"from_email"</span><span class="p">:</span><span class="s">"SENDER EMAIL"</span><span class="p">},</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"template"</span><span class="p">:</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">}</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-file-by-email-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code.</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this email in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)'"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wrong file type. You can only upload .pdf, .csv, .txt, .doc, .docx, .xlsx, .rtf or .odt files</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` cannot be longer than 100 characters"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a shorter filename</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` must end with a file extension. For example, filename.csv"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Include the file extension in your filename</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for retention_period '(PERIOD)'. Supported periods are from 1 to 78 weeks."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a period between 1 and 78 weeks</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for confirm_email_before_download: '(VALUE)'. Use a boolean true or false value."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use either True or False</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">The file contains a virus</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Send files by email has not been set up - add contact details for your service at https://www.notifications.service.gov.uk/services/(SERVICE ID)/service-settings/send-files-by-email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">See how to <a href="#add-contact-details-to-the-file-download-page">add contact details to the file download page</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can only send a file by email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Make sure you are using an email template</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your email.</td>
</tr><tr>
<td style="text-align: left">-</td>
<td style="text-align: left"><code>ValueError('File is larger than 2MB')</code></td>
<td style="text-align: left">The file is too big. Files must be smaller than 2MB.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this email in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)'"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wrong file type. You can only upload .pdf, .csv, .txt, .doc, .docx, .xlsx, .rtf or .odt files</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` cannot be longer than 100 characters"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a shorter filename</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` must end with a file extension. For example, filename.csv"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Include the file extension in your filename</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for retention_period '(PERIOD)'. Supported periods are from 1 to 78 weeks."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a period between 1 and 78 weeks</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for confirm_email_before_download: '(VALUE)'. Use a boolean true or false value."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use either True or False</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">The file contains a virus</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Send files by email has not been set up - add contact details for your service at https://www.notifications.service.gov.uk/services/(SERVICE ID)/service-settings/send-files-by-email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">See how to <a href="#add-contact-details-to-the-file-download-page">add contact details to the file download page</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can only send a file by email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Make sure you are using an email template</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your email.</td>
</tr><tr>
<td style="text-align: left">-</td>
<td style="text-align: left"><code>ValueError('File is larger than 2MB')</code></td>
<td style="text-align: left">The file is too big. Files must be smaller than 2MB.</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient using a team-only API key"</code><br/><code>}]</code><td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td><a href="#api-keys">API key</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this email in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can't send to this recipient when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code><td style="text-align: left">Your service cannot send this email in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td><a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)'"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wrong file type. You can only upload .pdf, .csv, .txt, .doc, .docx, .xlsx, .rtf or .odt files</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)'"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)'"</code><br/><code>}]</code><td style="text-align: left">Wrong file type. You can only upload .pdf, .csv, .txt, .doc, .docx, .xlsx, .rtf or .odt files</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` cannot be longer than 100 characters"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a shorter filename</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` cannot be longer than 100 characters"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` cannot be longer than 100 characters"</code><br/><code>}]</code><td style="text-align: left">Choose a shorter filename</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` must end with a file extension. For example, filename.csv"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Include the file extension in your filename</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` must end with a file extension. For example, filename.csv"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "`filename` must end with a file extension. For example, filename.csv"</code><br/><code>}]</code><td style="text-align: left">Include the file extension in your filename</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for retention_period '(PERIOD)'. Supported periods are from 1 to 78 weeks."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Choose a period between 1 and 78 weeks</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for retention_period '(PERIOD)'. Supported periods are from 1 to 78 weeks."</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for retention_period '(PERIOD)'. Supported periods are from 1 to 78 weeks."</code><br/><code>}]</code><td style="text-align: left">Choose a period between 1 and 78 weeks</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for confirm_email_before_download: '(VALUE)'. Use a boolean true or false value."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use either True or False</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for confirm_email_before_download: '(VALUE)'. Use a boolean true or false value."</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Unsupported value for confirm_email_before_download: '(VALUE)'. Use a boolean true or false value."</code><br/><code>}]</code><td style="text-align: left">Use either True or False</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">The file contains a virus</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code><td style="text-align: left">The file contains a virus</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Send files by email has not been set up - add contact details for your service at https://www.notifications.service.gov.uk/services/(SERVICE ID)/service-settings/send-files-by-email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">See how to <a href="#add-contact-details-to-the-file-download-page">add contact details to the file download page</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Send files by email has not been set up - add contact details for your service at https://www.notifications.service.gov.uk/services/(SERVICE ID)/service-settings/send-files-by-email"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Send files by email has not been set up - add contact details for your service at https://www.notifications.service.gov.uk/services/(SERVICE ID)/service-settings/send-files-by-email"</code><br/><code>}]</code><td style="text-align: left">See how to <a href="#add-contact-details-to-the-file-download-page">add contact details to the file download page</a>
</td><a href="#add-contact-details-to-the-file-download-page">add contact details to the file download page</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can only send a file by email"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Make sure you are using an email template</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can only send a file by email"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Can only send a file by email"</code><br/><code>}]</code><td style="text-align: left">Make sure you are using an email template</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information</td><a href="#rate-limits">API rate limits</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td><a href="#daily-limits">service limits</a><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your email.</td>
</tr><td style="text-align: left"><code>500</code></td><code>500</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code><td style="text-align: left">Notify was unable to process the request, resend your email.</td><tr>
<td style="text-align: left">-</td>
<td style="text-align: left"><code>ValueError('File is larger than 2MB')</code></td>
<td style="text-align: left">The file is too big. Files must be smaller than 2MB.</td>
</tr><td style="text-align: left">-</td><td style="text-align: left"><code>ValueError('File is larger than 2MB')</code></td><code>ValueError('File is larger than 2MB')</code><td style="text-align: left">The file is too big. Files must be smaller than 2MB.</td>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="send-a-letter">Send a letter</h3>
                    </summary>
                    <div class="contents">
                        <p>When you add a new service it will start in <a href="https://www.notifications.service.gov.uk/features/trial-mode">trial mode</a>. You can only send letters when your service is live.</p><a href="https://www.notifications.service.gov.uk/features/trial-mode">trial mode</a><p>To send Notify a request to go live:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Settings</strong> page.</li>
<li>In the <strong>Your service is in trial mode</strong> section, select <strong>request to go live</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Settings</strong> page.</li><strong>Settings</strong><li>In the <strong>Your service is in trial mode</strong> section, select <strong>request to go live</strong>.</li><strong>Your service is in trial mode</strong><strong>request to go live</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-letter-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code>    <span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_letter_notification</span><span class="p">(</span>
        <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>        <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
          <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'SW14 6BH'</span> <span class="c1"># required string,
</span>        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code>    <span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_letter_notification</span><span class="p">(</span>
        <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>        <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
          <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'SW14 6BH'</span> <span class="c1"># required string,
</span>        <span class="p">},</span>
    <span class="p">)</span>
</code></pre><code>    <span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_letter_notification</span><span class="p">(</span>
        <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>        <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
          <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span> <span class="c1"># required string,
</span>          <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'SW14 6BH'</span> <span class="c1"># required string,
</span>        <span class="p">},</span>
    <span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">send_letter_notification</span><span class="p">(</span><span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required UUID string
</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'address_line_1'</span><span class="p">:</span><span class="s">'The Occupier'</span><span class="c1"># required string,
</span><span class="s">'address_line_2'</span><span class="p">:</span><span class="s">'123 High Street'</span><span class="c1"># required string,
</span><span class="s">'address_line_3'</span><span class="p">:</span><span class="s">'SW14 6BH'</span><span class="c1"># required string,
</span><span class="p">},</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="send-a-letter-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="send-a-letter-arguments-template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>To find the template ID:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>Templates</strong> page and select the relevant template.</li>
<li>Select <strong>Copy template ID to clipboard</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>Templates</strong> page and select the relevant template.</li><strong>Templates</strong><li>Select <strong>Copy template ID to clipboard</strong>.</li><strong>Copy template ID to clipboard</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="personalisation-required">personalisation (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The personalisation argument always contains the following parameters for the letter recipient’s address:</p><ul>
<li><code>address_line_1</code></li>
<li><code>address_line_2</code></li>
<li><code>address_line_3</code></li>
<li><code>address_line_4</code></li>
<li><code>address_line_5</code></li>
<li><code>address_line_6</code></li>
<li><code>address_line_7</code></li>
</ul><li><code>address_line_1</code></li><code>address_line_1</code><li><code>address_line_2</code></li><code>address_line_2</code><li><code>address_line_3</code></li><code>address_line_3</code><li><code>address_line_4</code></li><code>address_line_4</code><li><code>address_line_5</code></li><code>address_line_5</code><li><code>address_line_6</code></li><code>address_line_6</code><li><code>address_line_7</code></li><code>address_line_7</code><p>The address must have at least 3 lines.</p><p>The last line needs to be a real UK postcode or the name of a country outside the UK.</p><p>Notify checks for international addresses and will automatically charge you the correct postage.</p><p>The <code>postcode</code> personalisation argument has been replaced. If your template still uses <code>postcode</code>, Notify will treat it as the last line of the address.</p><code>postcode</code><code>postcode</code><p>Any other placeholder fields included in the letter template also count as required parameters. You need to provide their values in a dictionary with key value pairs. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span><span class="p">,</span>
  <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span><span class="p">,</span>
  <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'Richmond upon Thames'</span><span class="p">,</span>
  <span class="s">'address_line_4'</span><span class="p">:</span> <span class="s">'Middlesex'</span><span class="p">,</span>
  <span class="s">'address_line_5'</span><span class="p">:</span> <span class="s">'SW14 6BF'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Smith'</span><span class="p">,</span>
  <span class="s">'application_id'</span><span class="p">:</span> <span class="s">'4134325'</span><span class="p">,</span>
  <span class="c1"># pass in a list and it will appear as bullet points in the letter:
</span>  <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span><span class="p">,</span>
  <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span><span class="p">,</span>
  <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'Richmond upon Thames'</span><span class="p">,</span>
  <span class="s">'address_line_4'</span><span class="p">:</span> <span class="s">'Middlesex'</span><span class="p">,</span>
  <span class="s">'address_line_5'</span><span class="p">:</span> <span class="s">'SW14 6BF'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Smith'</span><span class="p">,</span>
  <span class="s">'application_id'</span><span class="p">:</span> <span class="s">'4134325'</span><span class="p">,</span>
  <span class="c1"># pass in a list and it will appear as bullet points in the letter:
</span>  <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code></pre><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'address_line_1'</span><span class="p">:</span> <span class="s">'The Occupier'</span><span class="p">,</span>
  <span class="s">'address_line_2'</span><span class="p">:</span> <span class="s">'123 High Street'</span><span class="p">,</span>
  <span class="s">'address_line_3'</span><span class="p">:</span> <span class="s">'Richmond upon Thames'</span><span class="p">,</span>
  <span class="s">'address_line_4'</span><span class="p">:</span> <span class="s">'Middlesex'</span><span class="p">,</span>
  <span class="s">'address_line_5'</span><span class="p">:</span> <span class="s">'SW14 6BF'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Smith'</span><span class="p">,</span>
  <span class="s">'application_id'</span><span class="p">:</span> <span class="s">'4134325'</span><span class="p">,</span>
  <span class="c1"># pass in a list and it will appear as bullet points in the letter:
</span>  <span class="s">"required_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"passport"</span><span class="p">,</span> <span class="s">"utility bill"</span><span class="p">,</span> <span class="s">"other id"</span><span class="p">],</span>
<span class="p">}</span>
</code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'address_line_1'</span><span class="p">:</span><span class="s">'The Occupier'</span><span class="p">,</span><span class="s">'address_line_2'</span><span class="p">:</span><span class="s">'123 High Street'</span><span class="p">,</span><span class="s">'address_line_3'</span><span class="p">:</span><span class="s">'Richmond upon Thames'</span><span class="p">,</span><span class="s">'address_line_4'</span><span class="p">:</span><span class="s">'Middlesex'</span><span class="p">,</span><span class="s">'address_line_5'</span><span class="p">:</span><span class="s">'SW14 6BF'</span><span class="p">,</span><span class="s">'name'</span><span class="p">:</span><span class="s">'John Smith'</span><span class="p">,</span><span class="s">'application_id'</span><span class="p">:</span><span class="s">'4134325'</span><span class="p">,</span><span class="c1"># pass in a list and it will appear as bullet points in the letter:
</span><span class="s">"required_documents"</span><span class="p">:</span><span class="p">[</span><span class="s">"passport"</span><span class="p">,</span><span class="s">"utility bill"</span><span class="p">,</span><span class="s">"other id"</span><span class="p">],</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="send-a-letter-arguments-reference-optional">reference (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier you can create if necessary. This reference identifies a single unique letter or a batch of letters. It must not contain any personal information such as name or postal address. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="c1"># optional string - identifies notification(s)
</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-letter-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>:</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">'STRING'</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"LETTER TEXT"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
  <span class="s">"scheduled_for"</span><span class="p">:</span> <span class="bp">None</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">'STRING'</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"LETTER TEXT"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
  <span class="s">"scheduled_for"</span><span class="p">:</span> <span class="bp">None</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">'STRING'</span><span class="p">,</span>
  <span class="s">"content"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"SUBJECT TEXT"</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"LETTER TEXT"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span>
    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span>
  <span class="p">}</span>
  <span class="s">"scheduled_for"</span><span class="p">:</span> <span class="bp">None</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"reference"</span><span class="p">:</span><span class="s">'STRING'</span><span class="p">,</span><span class="s">"content"</span><span class="p">:</span><span class="p">{</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"SUBJECT TEXT"</span><span class="p">,</span><span class="s">"body"</span><span class="p">:</span><span class="s">"LETTER TEXT"</span><span class="p">,</span><span class="p">},</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"template"</span><span class="p">:</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">,</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"https://api.notifications.service.gov.uk/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"</span><span class="p">}</span><span class="s">"scheduled_for"</span><span class="p">:</span><span class="bp">None</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-letter-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code.</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this letter in  <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "personalisation address_line_1 is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that your template has a field for the first line of the address, check <a href="#personalisation-required">personalisation</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Must be a real UK postcode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Last line of address must be a real UK postcode or another country"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode or the name of a country outside the UK.</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock.</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number.</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your letter.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this letter in  <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "personalisation address_line_1 is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that your template has a field for the first line of the address, check <a href="#personalisation-required">personalisation</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Must be a real UK postcode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode.</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Last line of address must be a real UK postcode or another country"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode or the name of a country outside the UK.</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock.</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information.</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number.</td>
</tr><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your letter.</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code><td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td><a href="#api-keys">API key</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this letter in  <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>.</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code><td style="text-align: left">Your service cannot send this letter in  <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>.</td><a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "personalisation address_line_1 is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that your template has a field for the first line of the address, check <a href="#personalisation-required">personalisation</a> for more information.</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "personalisation address_line_1 is a required property"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "personalisation address_line_1 is a required property"</code><br/><code>}]</code><td style="text-align: left">Ensure that your template has a field for the first line of the address, check <a href="#personalisation-required">personalisation</a> for more information.</td><a href="#personalisation-required">personalisation</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Must be a real UK postcode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode.</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Must be a real UK postcode"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Must be a real UK postcode"</code><br/><code>}]</code><td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode.</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Last line of address must be a real UK postcode or another country"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode or the name of a country outside the UK.</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Last line of address must be a real UK postcode or another country"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Last line of address must be a real UK postcode or another country"</code><br/><code>}]</code><td style="text-align: left">Ensure that the value for the last line of the address is a real UK postcode or the name of a country outside the UK.</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock.</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock.</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information.</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information.</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information.</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 3000 requests per 60 seconds"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#rate-limits">API rate limits</a> for more information.</td><a href="#rate-limits">API rate limits</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number.</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (LIMIT NUMBER) for today"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number.</td><a href="#daily-limits">service limits</a><tr>
<td style="text-align: left"><code>500</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Notify was unable to process the request, resend your letter.</td>
</tr><td style="text-align: left"><code>500</code></td><code>500</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "Exception",</code><br/><code>"message": "Internal server error"</code><br/><code>}]</code><td style="text-align: left">Notify was unable to process the request, resend your letter.</td>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="send-a-precompiled-letter">Send a precompiled letter</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-precompiled-letter-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
    <span class="n">reference</span><span class="p">,</span>      <span class="c1"># Reference to identify the notification
</span>    <span class="n">pdf_file</span><span class="p">,</span>       <span class="c1"># PDF File object
</span>    <span class="n">postage</span>         <span class="c1"># set postage on your precompiled letter
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
    <span class="n">reference</span><span class="p">,</span>      <span class="c1"># Reference to identify the notification
</span>    <span class="n">pdf_file</span><span class="p">,</span>       <span class="c1"># PDF File object
</span>    <span class="n">postage</span>         <span class="c1"># set postage on your precompiled letter
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
    <span class="n">reference</span><span class="p">,</span>      <span class="c1"># Reference to identify the notification
</span>    <span class="n">pdf_file</span><span class="p">,</span>       <span class="c1"># PDF File object
</span>    <span class="n">postage</span>         <span class="c1"># set postage on your precompiled letter
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span><span class="c1"># Reference to identify the notification
</span><span class="n">pdf_file</span><span class="p">,</span><span class="c1"># PDF File object
</span><span class="n">postage</span><span class="c1"># set postage on your precompiled letter
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="send-a-precompiled-letter-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="reference-required">reference (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier you create. This reference identifies a single unique precompiled letter or a batch of precompiled letters. It must not contain any personal information such as name or postal address.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="pdf-file-required">pdf_file (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The precompiled letter must be a PDF file which meets <a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">the GOV.UK Notify letter specification</a>.</p><a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">the GOV.UK Notify letter specification</a><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"path/to/pdf_file"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">pdf_file</span><span class="p">:</span>
    <span class="n">notification</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
        <span class="n">reference</span><span class="o">=</span><span class="s">"your reference"</span><span class="p">,</span> <span class="n">pdf_file</span><span class="o">=</span><span class="n">pdf_file</span>
    <span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"path/to/pdf_file"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">pdf_file</span><span class="p">:</span>
    <span class="n">notification</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
        <span class="n">reference</span><span class="o">=</span><span class="s">"your reference"</span><span class="p">,</span> <span class="n">pdf_file</span><span class="o">=</span><span class="n">pdf_file</span>
    <span class="p">)</span>
</code></pre><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"path/to/pdf_file"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">pdf_file</span><span class="p">:</span>
    <span class="n">notification</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span>
        <span class="n">reference</span><span class="o">=</span><span class="s">"your reference"</span><span class="p">,</span> <span class="n">pdf_file</span><span class="o">=</span><span class="n">pdf_file</span>
    <span class="p">)</span>
</code><span class="k">with</span><span class="nb">open</span><span class="p">(</span><span class="s">"path/to/pdf_file"</span><span class="p">,</span><span class="s">"rb"</span><span class="p">)</span><span class="k">as</span><span class="n">pdf_file</span><span class="p">:</span><span class="n">notification</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">send_precompiled_letter_notification</span><span class="p">(</span><span class="n">reference</span><span class="o">=</span><span class="s">"your reference"</span><span class="p">,</span><span class="n">pdf_file</span><span class="o">=</span><span class="n">pdf_file</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="postage-optional">postage (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>You can choose first or second class postage for your precompiled letter. Set the value to <code>first</code> for first class, or <code>second</code> for second class. If you do not pass in this argument, the postage will default to second class.</p><code>first</code><code>second</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-precompiled-letter-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>:</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"your-letter-reference"</span><span class="p">,</span>
  <span class="s">"postage"</span><span class="p">:</span> <span class="s">"postage-you-have-set-or-None"</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"your-letter-reference"</span><span class="p">,</span>
  <span class="s">"postage"</span><span class="p">:</span> <span class="s">"postage-you-have-set-or-None"</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span>
  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"your-letter-reference"</span><span class="p">,</span>
  <span class="s">"postage"</span><span class="p">:</span> <span class="s">"postage-you-have-set-or-None"</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="s">"reference"</span><span class="p">:</span><span class="s">"your-letter-reference"</span><span class="p">,</span><span class="s">"postage"</span><span class="p">:</span><span class="s">"postage-you-have-set-or-None"</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="send-a-precompiled-letter-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an HTTPError containing the relevant error code.</p><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Letter content is not a valid PDF"</code><br/><code>}]</code>
</td>
<td style="text-align: left">PDF file format is required</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this precompiled letter in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "reference is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Add a <code>reference</code> argument to the method call</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "postage invalid. It must be either first or second."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the value of <code>postage</code> argument in the method call to either ‘first’ or ‘second’</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type live of 10 requests per 20 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (50) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Letter content is not a valid PDF"</code><br/><code>}]</code>
</td>
<td style="text-align: left">PDF file format is required</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this precompiled letter in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "reference is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Add a <code>reference</code> argument to the method call</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "postage invalid. It must be either first or second."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the value of <code>postage</code> argument in the method call to either ‘first’ or ‘second’</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type live of 10 requests per 20 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (50) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters with a team api key"</code><br/><code>}]</code><td style="text-align: left">Use the correct type of <a href="#api-keys">API key</a>
</td><a href="#api-keys">API key</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Letter content is not a valid PDF"</code><br/><code>}]</code>
</td>
<td style="text-align: left">PDF file format is required</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Letter content is not a valid PDF"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Letter content is not a valid PDF"</code><br/><code>}]</code><td style="text-align: left">PDF file format is required</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Your service cannot send this precompiled letter in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Cannot send letters when service is in trial mode - see https://www.notifications.service.gov.uk/trial-mode"</code><br/><code>}]</code><td style="text-align: left">Your service cannot send this precompiled letter in <a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a>
</td><a href="https://www.notifications.service.gov.uk/features/using-notify#trial-mode">trial mode</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "reference is a required property"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Add a <code>reference</code> argument to the method call</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "reference is a required property"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "reference is a required property"</code><br/><code>}]</code><td style="text-align: left">Add a <code>reference</code> argument to the method call</td><code>reference</code><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "postage invalid. It must be either first or second."</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the value of <code>postage</code> argument in the method call to either ‘first’ or ‘second’</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "postage invalid. It must be either first or second."</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "postage invalid. It must be either first or second."</code><br/><code>}]</code><td style="text-align: left">Change the value of <code>postage</code> argument in the method call to either ‘first’ or ‘second’</td><code>postage</code><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type live of 10 requests per 20 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type live of 10 requests per 20 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "RateLimitError",</code><br/><code>"message": "Exceeded rate limit for key type live of 10 requests per 20 seconds"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>429</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (50) for today"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td>
</tr><td style="text-align: left"><code>429</code></td><code>429</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (50) for today"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "TooManyRequestsError",</code><br/><code>"message": "Exceeded send limits (50) for today"</code><br/><code>}]</code><td style="text-align: left">Refer to <a href="#daily-limits">service limits</a> for the limit number</td><a href="#daily-limits">service limits</a>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-2">
            <h2 id="get-message-status">Get message status</h2>
        </div>
    
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="get-the-status-of-one-message">Get the status of one message</h3>
                    </summary>
                    <div class="contents">
                        <p>You can only get the status of messages sent within the retention period. The default retention period is 7 days.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-the-status-of-one-message-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_notification_by_id</span><span class="p">(</span><span class="n">notification_id</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_notification_by_id</span><span class="p">(</span><span class="n">notification_id</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_notification_by_id</span><span class="p">(</span><span class="n">notification_id</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_notification_by_id</span><span class="p">(</span><span class="n">notification_id</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-the-status-of-one-message-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="notification-id-required">notification_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The ID of the notification. To find the notification ID, you can either:</p><ul>
<li>check the response to the <a href="#response">original notification method call</a></li>
<li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a> and go to the <strong>API integration</strong> page</li>
</ul><li>check the response to the <a href="#response">original notification method call</a></li><a href="#response">original notification method call</a><li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a> and go to the <strong>API integration</strong> page</li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a><strong>API integration</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-the-status-of-one-message-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client will return a <code>dict</code>:</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string
</span>  <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>  <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>  <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_7"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 7"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"Version"</span><span class="p">:</span> <span class="n">INTEGER</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>  <span class="p">},</span>
  <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>  <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>  <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>  <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>  <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>  <span class="s">"completed_at:"</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span><span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string
</span>  <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>  <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>  <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_7"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 7"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"Version"</span><span class="p">:</span> <span class="n">INTEGER</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>  <span class="p">},</span>
  <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>  <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>  <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>  <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>  <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>  <span class="s">"completed_at:"</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span><span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>  <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string
</span>  <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>  <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>  <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>  <span class="s">"line_7"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 7"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>  <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>  <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"Version"</span><span class="p">:</span> <span class="n">INTEGER</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>  <span class="p">},</span>
  <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>  <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>  <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>  <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>  <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>  <span class="s">"completed_at:"</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span><span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="c1"># required string - notification ID
</span><span class="s">"reference"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># optional string
</span><span class="s">"email_address"</span><span class="p">:</span><span class="s">"sender@something.com"</span><span class="p">,</span><span class="c1"># required string for emails
</span><span class="s">"phone_number"</span><span class="p">:</span><span class="s">"+447900900123"</span><span class="p">,</span><span class="c1"># required string for text messages
</span><span class="s">"line_1"</span><span class="p">:</span><span class="s">"ADDRESS LINE 1"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"line_2"</span><span class="p">:</span><span class="s">"ADDRESS LINE 2"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"line_3"</span><span class="p">:</span><span class="s">"ADDRESS LINE 3"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_4"</span><span class="p">:</span><span class="s">"ADDRESS LINE 4"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_5"</span><span class="p">:</span><span class="s">"ADDRESS LINE 5"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_6"</span><span class="p">:</span><span class="s">"ADDRESS LINE 6"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_7"</span><span class="p">:</span><span class="s">"ADDRESS LINE 7"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / letter / email"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"status"</span><span class="p">:</span><span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"template"</span><span class="p">:</span><span class="p">{</span><span class="s">"Version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="c1"># required string - template ID
</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span><span class="c1"># required
</span><span class="p">},</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time notification created
</span><span class="s">"created_by_name"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># optional string - name of the person who sent the notification if sent manually
</span><span class="s">"sent_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># optional string - date and time notification sent to provider
</span><span class="s">"completed_at:"</span><span class="s">"STRING"</span><span class="c1"># optional string - date and time notification delivered or failed
</span><span class="p">}</span><p>For more information, see the:</p><ul>
<li><a href="#email-status-descriptions">email status descriptions</a></li>
<li><a href="#text-message-status-descriptions">text message status descriptions</a></li>
<li><a href="#letter-status-descriptions">letter status descriptions</a></li>
<li><a href="#precompiled-letter-status-descriptions">precompiled letter status descriptions</a></li>
</ul><li><a href="#email-status-descriptions">email status descriptions</a></li><a href="#email-status-descriptions">email status descriptions</a><li><a href="#text-message-status-descriptions">text message status descriptions</a></li><a href="#text-message-status-descriptions">text message status descriptions</a><li><a href="#letter-status-descriptions">letter status descriptions</a></li><a href="#letter-status-descriptions">letter status descriptions</a><li><a href="#precompiled-letter-status-descriptions">precompiled letter status descriptions</a></li><a href="#precompiled-letter-status-descriptions">precompiled letter status descriptions</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-the-status-of-one-message-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client will return an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check when your message was sent. If it was sent before the retention period, it has been deleted. You can no longer get the status of this message. The default retention period is 7 days.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check when your message was sent. If it was sent before the retention period, it has been deleted. You can no longer get the status of this message. The default retention period is 7 days.</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code><td style="text-align: left">Check the notification ID</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check when your message was sent. If it was sent before the retention period, it has been deleted. You can no longer get the status of this message. The default retention period is 7 days.</td>
</tr><td style="text-align: left"><code>404</code></td><code>404</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code><td style="text-align: left">Check when your message was sent. If it was sent before the retention period, it has been deleted. You can no longer get the status of this message. The default retention period is 7 days.</td>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="get-the-status-of-multiple-messages">Get the status of multiple messages</h3>
                    </summary>
                    <div class="contents">
                        <p>This API call returns one page of up to 250 messages and statuses. You can get either the most recent messages, or get older messages by specifying a particular notification ID in the <code>older_than</code> argument.</p><code>older_than</code><p>You can only get the status of messages sent within the retention period. The default retention period is 7 days.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-the-status-of-multiple-messages-method">Method</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="all-messages">All messages</h5>
                    </summary>
                    <div class="contents">
                        <p>This will return all your messages with statuses. They will display in pages of up to 250 messages each.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_notifications</span><span class="p">(</span><span class="n">template_type</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="n">older_than</span><span class="p">,</span> <span class="n">include_jobs</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_notifications</span><span class="p">(</span><span class="n">template_type</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="n">older_than</span><span class="p">,</span> <span class="n">include_jobs</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_notifications</span><span class="p">(</span><span class="n">template_type</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="n">older_than</span><span class="p">,</span> <span class="n">include_jobs</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_notifications</span><span class="p">(</span><span class="n">template_type</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">reference</span><span class="p">,</span><span class="n">older_than</span><span class="p">,</span><span class="n">include_jobs</span><span class="p">)</span><p>You can filter the returned messages by including the following optional arguments in the method:</p><ul>
<li><a href="#template-type-optional"><code>template_type</code></a></li>
<li><a href="#status-optional"><code>status</code></a></li>
<li><a href="#get-the-status-of-multiple-messages-arguments-reference-optional"><code>reference</code></a></li>
<li><a href="#older-than-optional"><code>older_than</code></a></li>
<li><a href="#include-jobs-optional"><code>include_jobs</code></a></li>
</ul><li><a href="#template-type-optional"><code>template_type</code></a></li><a href="#template-type-optional"><code>template_type</code></a><code>template_type</code><li><a href="#status-optional"><code>status</code></a></li><a href="#status-optional"><code>status</code></a><code>status</code><li><a href="#get-the-status-of-multiple-messages-arguments-reference-optional"><code>reference</code></a></li><a href="#get-the-status-of-multiple-messages-arguments-reference-optional"><code>reference</code></a><code>reference</code><li><a href="#older-than-optional"><code>older_than</code></a></li><a href="#older-than-optional"><code>older_than</code></a><code>older_than</code><li><a href="#include-jobs-optional"><code>include_jobs</code></a></li><a href="#include-jobs-optional"><code>include_jobs</code></a><code>include_jobs</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="one-page-of-up-to-250-messages">One page of up to 250 messages</h5>
                    </summary>
                    <div class="contents">
                        <p>This will return one page of up to 250 messages and statuses. You can get either the most recent messages, or get older messages by specifying a particular notification ID in the <a href="#older-than-optional"><code>older_than</code></a> argument.</p><a href="#older-than-optional"><code>older_than</code></a><code>older_than</code><p>To get the most recent messages, add the following code to your application:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">)</span><p>You must set the <a href="#status-optional"><code>status</code></a> argument to <code>sending</code>.</p><a href="#status-optional"><code>status</code></a><code>status</code><code>sending</code><p>To get older messages:</p><ol>
<li>Get the ID of an older message.</li>
<li>Add the following code to your application, with the older notification ID in the <a href="#older-than-optional"><code>older_than</code></a> argument.</li>
</ol><li>Get the ID of an older message.</li><li>Add the following code to your application, with the older notification ID in the <a href="#older-than-optional"><code>older_than</code></a> argument.</li><a href="#older-than-optional"><code>older_than</code></a><code>older_than</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">,</span><span class="n">older_than</span><span class="o">=</span><span class="s">"NOTIFICATION ID"</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">,</span><span class="n">older_than</span><span class="o">=</span><span class="s">"NOTIFICATION ID"</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">,</span><span class="n">older_than</span><span class="o">=</span><span class="s">"NOTIFICATION ID"</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">get_all_notifications_iterator</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s">"sending"</span><span class="p">,</span><span class="n">older_than</span><span class="o">=</span><span class="s">"NOTIFICATION ID"</span><span class="p">)</span><p>You must set the <a href="#status-optional"><code>status</code></a> argument to <code>sending</code>.</p><a href="#status-optional"><code>status</code></a><code>status</code><code>sending</code><p>This method will return the next oldest messages from the specified notification ID.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-the-status-of-multiple-messages-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="template-type-optional">template_type (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>You can filter by:</p><ul>
<li><code>email</code></li>
<li><code>sms</code></li>
<li><code>letter</code></li>
</ul><li><code>email</code></li><code>email</code><li><code>sms</code></li><code>sms</code><li><code>letter</code></li><code>letter</code><p>You can leave out this argument to ignore this filter.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="status-optional">status (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>You can filter by each:</p><ul>
<li><a href="#email-status-descriptions">email status</a></li>
<li><a href="#text-message-status-descriptions">text message status</a></li>
<li><a href="#letter-status-descriptions">letter status</a></li>
<li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a></li>
</ul><li><a href="#email-status-descriptions">email status</a></li><a href="#email-status-descriptions">email status</a><li><a href="#text-message-status-descriptions">text message status</a></li><a href="#text-message-status-descriptions">text message status</a><li><a href="#letter-status-descriptions">letter status</a></li><a href="#letter-status-descriptions">letter status</a><li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a></li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a><p>If you filter by <code>failed</code> it will return all 3 failure statuses: <code>permanent-failure</code>, <code>temporary-failure</code> and <code>technical-failure</code>.</p><code>failed</code><code>permanent-failure</code><code>temporary-failure</code><code>technical-failure</code><p>You can leave out this argument to ignore this filter.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-the-status-of-multiple-messages-arguments-reference-optional">reference (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>A unique identifier you can create if necessary. This reference identifies a single unique message or a batch of messages. It must not contain any personal information such as name or postal address. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code></pre><code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span> <span class="c1"># optional string - identifies notification(s)
</span></code><span class="n">reference</span><span class="o">=</span><span class="s">'STRING'</span><span class="c1"># optional string - identifies notification(s)
</span><p>You can leave out this argument to ignore this filter.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="older-than-optional">older_than (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>Input a notification ID into this argument. If you use this argument, the method returns the next 250 received messages older than the given ID.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code></pre><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span><span class="c1"># optional string - notification ID
</span><p>If you leave out this argument, the method returns the most recent 250 messages.</p><p>The client only returns messages sent within the retention period. The default retention period is 7 days. If the message specified in this argument was sent before the retention period, the client returns an empty response.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="include-jobs-optional">include_jobs (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>Includes notifications sent as part of a batch upload.</p><p>If you leave out this argument, the method only returns notifications sent using the API.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-the-status-of-multiple-messages-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>.</p><code>dict</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-the-status-of-multiple-messages-response-all-messages">All messages</h5>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span><span class="s">"notifications"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>      <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - client reference
</span>      <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>      <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>      <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"postcode"</span><span class="p">:</span> <span class="s">"A REAL UK POSTCODE"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>      <span class="p">},</span>
      <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>      <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>      <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>      <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">" STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>      <span class="s">"completed_at"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/notifications?template_type=sms&amp;status=delivered"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/notifications?other_than=last_id_in_list&amp;template_type=sms&amp;status=delivered"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span><span class="s">"notifications"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>      <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - client reference
</span>      <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>      <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>      <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"postcode"</span><span class="p">:</span> <span class="s">"A REAL UK POSTCODE"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>      <span class="p">},</span>
      <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>      <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>      <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>      <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">" STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>      <span class="s">"completed_at"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/notifications?template_type=sms&amp;status=delivered"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/notifications?other_than=last_id_in_list&amp;template_type=sms&amp;status=delivered"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span><span class="s">"notifications"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>      <span class="s">"reference"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - client reference
</span>      <span class="s">"email_address"</span><span class="p">:</span> <span class="s">"sender@something.com"</span><span class="p">,</span>  <span class="c1"># required string for emails
</span>      <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"+447900900123"</span><span class="p">,</span>  <span class="c1"># required string for text messages
</span>      <span class="s">"line_1"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 1"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_2"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 2"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"line_3"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 3"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_4"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 4"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_5"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 5"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"line_6"</span><span class="p">:</span> <span class="s">"ADDRESS LINE 6"</span><span class="p">,</span> <span class="c1"># optional string for letter
</span>      <span class="s">"postcode"</span><span class="p">:</span> <span class="s">"A REAL UK POSTCODE"</span><span class="p">,</span> <span class="c1"># required string for letter
</span>      <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / letter / email"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"status"</span><span class="p">:</span> <span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"template"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span> <span class="c1"># required
</span>      <span class="p">},</span>
      <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>      <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time notification created
</span>      <span class="s">"created_by_name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># optional string - name of the person who sent the notification if sent manually
</span>      <span class="s">"sent_at"</span><span class="p">:</span> <span class="s">" STRING"</span><span class="p">,</span> <span class="c1"># optional string - date and time notification sent to provider
</span>      <span class="s">"completed_at"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - date and time notification delivered or failed
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/notifications?template_type=sms&amp;status=delivered"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/notifications?other_than=last_id_in_list&amp;template_type=sms&amp;status=delivered"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"notifications"</span><span class="p">:</span><span class="p">[</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="c1"># required string - notification ID
</span><span class="s">"reference"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># optional string - client reference
</span><span class="s">"email_address"</span><span class="p">:</span><span class="s">"sender@something.com"</span><span class="p">,</span><span class="c1"># required string for emails
</span><span class="s">"phone_number"</span><span class="p">:</span><span class="s">"+447900900123"</span><span class="p">,</span><span class="c1"># required string for text messages
</span><span class="s">"line_1"</span><span class="p">:</span><span class="s">"ADDRESS LINE 1"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"line_2"</span><span class="p">:</span><span class="s">"ADDRESS LINE 2"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"line_3"</span><span class="p">:</span><span class="s">"ADDRESS LINE 3"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_4"</span><span class="p">:</span><span class="s">"ADDRESS LINE 4"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_5"</span><span class="p">:</span><span class="s">"ADDRESS LINE 5"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"line_6"</span><span class="p">:</span><span class="s">"ADDRESS LINE 6"</span><span class="p">,</span><span class="c1"># optional string for letter
</span><span class="s">"postcode"</span><span class="p">:</span><span class="s">"A REAL UK POSTCODE"</span><span class="p">,</span><span class="c1"># required string for letter
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / letter / email"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"status"</span><span class="p">:</span><span class="s">"sending / delivered / permanent-failure / temporary-failure / technical-failure"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"template"</span><span class="p">:</span><span class="p">{</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="c1"># required string - template ID
</span><span class="s">"uri"</span><span class="p">:</span><span class="s">"/v2/template/{id}/{version}"</span><span class="p">,</span><span class="c1"># required
</span><span class="p">},</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time notification created
</span><span class="s">"created_by_name"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># optional string - name of the person who sent the notification if sent manually
</span><span class="s">"sent_at"</span><span class="p">:</span><span class="s">" STRING"</span><span class="p">,</span><span class="c1"># optional string - date and time notification sent to provider
</span><span class="s">"completed_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># optional string - date and time notification delivered or failed
</span><span class="p">},</span><span class="err">…</span><span class="p">],</span><span class="s">"links"</span><span class="p">:</span><span class="p">{</span><span class="s">"current"</span><span class="p">:</span><span class="s">"/notifications?template_type=sms&amp;status=delivered"</span><span class="p">,</span><span class="s">"next"</span><span class="p">:</span><span class="s">"/notifications?other_than=last_id_in_list&amp;template_type=sms&amp;status=delivered"</span><span class="p">}</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-the-status-of-multiple-messages-response-one-page-of-up-to-250-messages">One page of up to 250 messages</h5>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_all_notifications_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_all_notifications_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code></pre><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_all_notifications_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code><span class="o">&lt;</span><span class="n">generator</span><span class="nb">object</span><span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_all_notifications_iterator</span><span class="n">at</span><span class="mh">0x1026c7410</span><span class="o">&gt;</span><p>For more information, see the:</p><ul>
<li><a href="#email-status-descriptions">email status</a></li>
<li><a href="#text-message-status-descriptions">text message status</a></li>
<li><a href="#letter-status-descriptions">letter status</a></li>
<li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a></li>
</ul><li><a href="#email-status-descriptions">email status</a></li><a href="#email-status-descriptions">email status</a><li><a href="#text-message-status-descriptions">text message status</a></li><a href="#text-message-status-descriptions">text message status</a><li><a href="#letter-status-descriptions">letter status</a></li><a href="#letter-status-descriptions">letter status</a><li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a></li><a href="#precompiled-letter-status-descriptions">precompiled letter status</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-the-status-of-multiple-messages-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "status ‘elephant’ is not one of [cancelled, created, sending, sent, delivered, pending, failed, technical-failure, temporary-failure, permanent-failure, pending-virus-check, validation-failed, virus-scan-failed, returned-letter, accepted, received]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#status-optional">status argument</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "‘Apple’ is not one of [sms, email, letter]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#template-type-optional">template_type argument</a>
</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "status ‘elephant’ is not one of [cancelled, created, sending, sent, delivered, pending, failed, technical-failure, temporary-failure, permanent-failure, pending-virus-check, validation-failed, virus-scan-failed, returned-letter, accepted, received]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#status-optional">status argument</a>
</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "‘Apple’ is not one of [sms, email, letter]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#template-type-optional">template_type argument</a>
</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "status ‘elephant’ is not one of [cancelled, created, sending, sent, delivered, pending, failed, technical-failure, temporary-failure, permanent-failure, pending-virus-check, validation-failed, virus-scan-failed, returned-letter, accepted, received]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#status-optional">status argument</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "status ‘elephant’ is not one of [cancelled, created, sending, sent, delivered, pending, failed, technical-failure, temporary-failure, permanent-failure, pending-virus-check, validation-failed, virus-scan-failed, returned-letter, accepted, received]"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "status ‘elephant’ is not one of [cancelled, created, sending, sent, delivered, pending, failed, technical-failure, temporary-failure, permanent-failure, pending-virus-check, validation-failed, virus-scan-failed, returned-letter, accepted, received]"</code><br/><code>}]</code><td style="text-align: left">Change the <a href="#status-optional">status argument</a>
</td><a href="#status-optional">status argument</a><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "‘Apple’ is not one of [sms, email, letter]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Change the <a href="#template-type-optional">template_type argument</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "‘Apple’ is not one of [sms, email, letter]"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "‘Apple’ is not one of [sms, email, letter]"</code><br/><code>}]</code><td style="text-align: left">Change the <a href="#template-type-optional">template_type argument</a>
</td><a href="#template-type-optional">template_type argument</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="email-status-descriptions">Email status descriptions</h3>
                    </summary>
                    <div class="contents">
                        <div class="table-container">
<table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message because the email address was wrong. You should remove these email addresses from your database.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s inbox is full or their anti-spam filter rejects your email. <a href="https://www.gov.uk/service-manual/design/sending-emails-and-text-messages#protect-your-users-from-spam-and-phishing">Check your content does not look like spam</a> before you try to send the message again.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message because the email address was wrong. You should remove these email addresses from your database.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s inbox is full or their anti-spam filter rejects your email. <a href="https://www.gov.uk/service-manual/design/sending-emails-and-text-messages#protect-your-users-from-spam-and-phishing">Check your content does not look like spam</a> before you try to send the message again.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again.</td>
</tr>
</table><tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><th style="text-align: left">Status</th><th style="text-align: left">Description</th><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><th scope="row" style="text-align: left"><code>created</code>
</th><code>created</code><td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><th scope="row" style="text-align: left"><code>sending</code>
</th><code>sending</code><td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered.</td>
</tr><th scope="row" style="text-align: left"><code>delivered</code>
</th><code>delivered</code><td style="text-align: left">The message was successfully delivered.</td><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message because the email address was wrong. You should remove these email addresses from your database.</td>
</tr><th scope="row" style="text-align: left"><code>permanent-failure</code>
</th><code>permanent-failure</code><td style="text-align: left">The provider could not deliver the message because the email address was wrong. You should remove these email addresses from your database.</td><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s inbox is full or their anti-spam filter rejects your email. <a href="https://www.gov.uk/service-manual/design/sending-emails-and-text-messages#protect-your-users-from-spam-and-phishing">Check your content does not look like spam</a> before you try to send the message again.</td>
</tr><th scope="row" style="text-align: left"><code>temporary-failure</code>
</th><code>temporary-failure</code><td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s inbox is full or their anti-spam filter rejects your email. <a href="https://www.gov.uk/service-manual/design/sending-emails-and-text-messages#protect-your-users-from-spam-and-phishing">Check your content does not look like spam</a> before you try to send the message again.</td><a href="https://www.gov.uk/service-manual/design/sending-emails-and-text-messages#protect-your-users-from-spam-and-phishing">Check your content does not look like spam</a><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again.</td>
</tr><th scope="row" style="text-align: left"><code>technical-failure</code>
</th><code>technical-failure</code><td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again.</td><br/>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="text-message-status-descriptions">Text message status descriptions</h3>
                    </summary>
                    <div class="contents">
                        <div class="table-container">
<table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>pending</code>
</th>
<td style="text-align: left">GOV.UK Notify is waiting for more delivery information.<br/>GOV.UK Notify received a callback from the provider but the recipient’s device has not yet responded. Another callback from the provider determines the final status of the text message.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sent</code>
</th>
<td style="text-align: left">The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information. The GOV.UK Notify website displays this status as ‘Sent to an international number’.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered. If a recipient blocks your sender name or mobile number, your message will still show as delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen if the phone number was wrong or if the network operator rejects the message. If you’re sure that these phone numbers are correct, you should <a href="https://www.notifications.service.gov.uk/support">contact GOV.UK Notify support</a>. If not, you should remove them from your database. You’ll still be charged for text messages that cannot be delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s phone is off, has no signal, or their text message inbox is full. You can try to send the message again. You’ll still be charged for text messages to phones that are not accepting messages.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again. You will not be charged for text messages that are affected by a technical failure.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>pending</code>
</th>
<td style="text-align: left">GOV.UK Notify is waiting for more delivery information.<br/>GOV.UK Notify received a callback from the provider but the recipient’s device has not yet responded. Another callback from the provider determines the final status of the text message.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sent</code>
</th>
<td style="text-align: left">The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information. The GOV.UK Notify website displays this status as ‘Sent to an international number’.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered. If a recipient blocks your sender name or mobile number, your message will still show as delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen if the phone number was wrong or if the network operator rejects the message. If you’re sure that these phone numbers are correct, you should <a href="https://www.notifications.service.gov.uk/support">contact GOV.UK Notify support</a>. If not, you should remove them from your database. You’ll still be charged for text messages that cannot be delivered.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s phone is off, has no signal, or their text message inbox is full. You can try to send the message again. You’ll still be charged for text messages to phones that are not accepting messages.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again. You will not be charged for text messages that are affected by a technical failure.</td>
</tr>
</table><tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><th style="text-align: left">Status</th><th style="text-align: left">Description</th><tr>
<th scope="row" style="text-align: left"><code>created</code>
</th>
<td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td>
</tr><th scope="row" style="text-align: left"><code>created</code>
</th><code>created</code><td style="text-align: left">GOV.UK Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td><tr>
<th scope="row" style="text-align: left"><code>sending</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td>
</tr><th scope="row" style="text-align: left"><code>sending</code>
</th><code>sending</code><td style="text-align: left">GOV.UK Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GOV.UK Notify is waiting for delivery information.</td><tr>
<th scope="row" style="text-align: left"><code>pending</code>
</th>
<td style="text-align: left">GOV.UK Notify is waiting for more delivery information.<br/>GOV.UK Notify received a callback from the provider but the recipient’s device has not yet responded. Another callback from the provider determines the final status of the text message.</td>
</tr><th scope="row" style="text-align: left"><code>pending</code>
</th><code>pending</code><td style="text-align: left">GOV.UK Notify is waiting for more delivery information.<br/>GOV.UK Notify received a callback from the provider but the recipient’s device has not yet responded. Another callback from the provider determines the final status of the text message.</td><br/><tr>
<th scope="row" style="text-align: left"><code>sent</code>
</th>
<td style="text-align: left">The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information. The GOV.UK Notify website displays this status as ‘Sent to an international number’.</td>
</tr><th scope="row" style="text-align: left"><code>sent</code>
</th><code>sent</code><td style="text-align: left">The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information. The GOV.UK Notify website displays this status as ‘Sent to an international number’.</td><tr>
<th scope="row" style="text-align: left"><code>delivered</code>
</th>
<td style="text-align: left">The message was successfully delivered. If a recipient blocks your sender name or mobile number, your message will still show as delivered.</td>
</tr><th scope="row" style="text-align: left"><code>delivered</code>
</th><code>delivered</code><td style="text-align: left">The message was successfully delivered. If a recipient blocks your sender name or mobile number, your message will still show as delivered.</td><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen if the phone number was wrong or if the network operator rejects the message. If you’re sure that these phone numbers are correct, you should <a href="https://www.notifications.service.gov.uk/support">contact GOV.UK Notify support</a>. If not, you should remove them from your database. You’ll still be charged for text messages that cannot be delivered.</td>
</tr><th scope="row" style="text-align: left"><code>permanent-failure</code>
</th><code>permanent-failure</code><td style="text-align: left">The provider could not deliver the message. This can happen if the phone number was wrong or if the network operator rejects the message. If you’re sure that these phone numbers are correct, you should <a href="https://www.notifications.service.gov.uk/support">contact GOV.UK Notify support</a>. If not, you should remove them from your database. You’ll still be charged for text messages that cannot be delivered.</td><a href="https://www.notifications.service.gov.uk/support">contact GOV.UK Notify support</a><tr>
<th scope="row" style="text-align: left"><code>temporary-failure</code>
</th>
<td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s phone is off, has no signal, or their text message inbox is full. You can try to send the message again. You’ll still be charged for text messages to phones that are not accepting messages.</td>
</tr><th scope="row" style="text-align: left"><code>temporary-failure</code>
</th><code>temporary-failure</code><td style="text-align: left">The provider could not deliver the message. This can happen when the recipient’s phone is off, has no signal, or their text message inbox is full. You can try to send the message again. You’ll still be charged for text messages to phones that are not accepting messages.</td><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again. You will not be charged for text messages that are affected by a technical failure.</td>
</tr><th scope="row" style="text-align: left"><code>technical-failure</code>
</th><code>technical-failure</code><td style="text-align: left">Your message was not sent because there was a problem between Notify and the provider.<br/>You’ll have to try sending your messages again. You will not be charged for text messages that are affected by a technical failure.</td><br/>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="letter-status-descriptions">Letter status descriptions</h3>
                    </summary>
                    <div class="contents">
                        <div class="table-container">
<table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr>
</table><tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><th style="text-align: left">Status</th><th style="text-align: left">Description</th><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><th scope="row" style="text-align: left"><code>accepted</code>
</th><code>accepted</code><td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><th scope="row" style="text-align: left"><code>received</code>
</th><code>received</code><td style="text-align: left">The provider has printed and dispatched the letter.</td><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><th scope="row" style="text-align: left"><code>cancelled</code>
</th><code>cancelled</code><td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><th scope="row" style="text-align: left"><code>technical-failure</code>
</th><code>technical-failure</code><td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr><th scope="row" style="text-align: left"><code>permanent-failure</code>
</th><code>permanent-failure</code><td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="precompiled-letter-status-descriptions">Precompiled letter status descriptions</h3>
                    </summary>
                    <div class="contents">
                        <div class="table-container">
<table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>pending-virus-check</code>
</th>
<td style="text-align: left">GOV.UK Notify has not completed a virus scan of the precompiled letter file.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>virus-scan-failed</code>
</th>
<td style="text-align: left">GOV.UK Notify found a potential virus in the precompiled letter file.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>validation-failed</code>
</th>
<td style="text-align: left">Content in the precompiled letter file is outside the printable area. See the <a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">GOV.UK Notify letter specification</a> for more information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>pending-virus-check</code>
</th>
<td style="text-align: left">GOV.UK Notify has not completed a virus scan of the precompiled letter file.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>virus-scan-failed</code>
</th>
<td style="text-align: left">GOV.UK Notify found a potential virus in the precompiled letter file.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>validation-failed</code>
</th>
<td style="text-align: left">Content in the precompiled letter file is outside the printable area. See the <a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">GOV.UK Notify letter specification</a> for more information.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr>
</table><tr>
<th style="text-align: left">Status</th>
<th style="text-align: left">Description</th>
</tr><th style="text-align: left">Status</th><th style="text-align: left">Description</th><tr>
<th scope="row" style="text-align: left"><code>accepted</code>
</th>
<td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td>
</tr><th scope="row" style="text-align: left"><code>accepted</code>
</th><code>accepted</code><td style="text-align: left">GOV.UK Notify has sent the letter to the provider to be printed.</td><tr>
<th scope="row" style="text-align: left"><code>received</code>
</th>
<td style="text-align: left">The provider has printed and dispatched the letter.</td>
</tr><th scope="row" style="text-align: left"><code>received</code>
</th><code>received</code><td style="text-align: left">The provider has printed and dispatched the letter.</td><tr>
<th scope="row" style="text-align: left"><code>cancelled</code>
</th>
<td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td>
</tr><th scope="row" style="text-align: left"><code>cancelled</code>
</th><code>cancelled</code><td style="text-align: left">Sending cancelled. The letter will not be printed or dispatched.</td><tr>
<th scope="row" style="text-align: left"><code>pending-virus-check</code>
</th>
<td style="text-align: left">GOV.UK Notify has not completed a virus scan of the precompiled letter file.</td>
</tr><th scope="row" style="text-align: left"><code>pending-virus-check</code>
</th><code>pending-virus-check</code><td style="text-align: left">GOV.UK Notify has not completed a virus scan of the precompiled letter file.</td><tr>
<th scope="row" style="text-align: left"><code>virus-scan-failed</code>
</th>
<td style="text-align: left">GOV.UK Notify found a potential virus in the precompiled letter file.</td>
</tr><th scope="row" style="text-align: left"><code>virus-scan-failed</code>
</th><code>virus-scan-failed</code><td style="text-align: left">GOV.UK Notify found a potential virus in the precompiled letter file.</td><tr>
<th scope="row" style="text-align: left"><code>validation-failed</code>
</th>
<td style="text-align: left">Content in the precompiled letter file is outside the printable area. See the <a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">GOV.UK Notify letter specification</a> for more information.</td>
</tr><th scope="row" style="text-align: left"><code>validation-failed</code>
</th><code>validation-failed</code><td style="text-align: left">Content in the precompiled letter file is outside the printable area. See the <a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">GOV.UK Notify letter specification</a> for more information.</td><a href="https://www.notifications.service.gov.uk/using-notify/guidance/letter-specification">GOV.UK Notify letter specification</a><tr>
<th scope="row" style="text-align: left"><code>technical-failure</code>
</th>
<td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td>
</tr><th scope="row" style="text-align: left"><code>technical-failure</code>
</th><code>technical-failure</code><td style="text-align: left">GOV.UK Notify had an unexpected error while sending the letter to our printing provider.</td><tr>
<th scope="row" style="text-align: left"><code>permanent-failure</code>
</th>
<td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
</tr><th scope="row" style="text-align: left"><code>permanent-failure</code>
</th><code>permanent-failure</code><td style="text-align: left">The provider cannot print the letter. Your letter will not be dispatched.</td>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="get-a-pdf-for-a-letter">Get a PDF for a letter</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-pdf-for-a-letter-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <p>This returns the PDF contents of a letter.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">pdf_file</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_pdf_for_letter</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - notification ID
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">pdf_file</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_pdf_for_letter</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - notification ID
</span><span class="p">)</span>
</code></pre><code><span class="n">pdf_file</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_pdf_for_letter</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - notification ID
</span><span class="p">)</span>
</code><span class="n">pdf_file</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_pdf_for_letter</span><span class="p">(</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="c1"># required string - notification ID
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-a-pdf-for-a-letter-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-a-pdf-for-a-letter-arguments-notification-id-required">notification_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The ID of the notification. To find the notification ID, you can either:</p><ul>
<li>check the response to the <a href="#get-the-status-of-one-message-response">original notification method call</a></li>
<li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a> and go to the <strong>API integration</strong> page</li>
</ul><li>check the response to the <a href="#get-the-status-of-one-message-response">original notification method call</a></li><a href="#get-the-status-of-one-message-response">original notification method call</a><li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a> and go to the <strong>API integration</strong> page</li><a href="https://www.notifications.service.gov.uk/sign-in">sign in to GOV.UK Notify</a><strong>API integration</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-pdf-for-a-letter-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client will return a <code>io.BytesIO</code> object containing the raw PDF data.</p><code>io.BytesIO</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-pdf-for-a-letter-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client will return an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "PDFNotReadyError",</code><br/><code>"message": "PDF not available yet, try again later"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wait for the letter to finish processing. This usually takes a few seconds</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter that contains a virus</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "PDF not available for letters in technical-failure"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter in technical-failure</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Notification is not a letter"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that you are looking up the correct notification</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "PDFNotReadyError",</code><br/><code>"message": "PDF not available yet, try again later"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wait for the letter to finish processing. This usually takes a few seconds</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter that contains a virus</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "PDF not available for letters in technical-failure"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter in technical-failure</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Notification is not a letter"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that you are looking up the correct notification</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "id is not a valid UUID"</code><br/><code>}]</code><td style="text-align: left">Check the notification ID</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "PDFNotReadyError",</code><br/><code>"message": "PDF not available yet, try again later"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Wait for the letter to finish processing. This usually takes a few seconds</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "PDFNotReadyError",</code><br/><code>"message": "PDF not available yet, try again later"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "PDFNotReadyError",</code><br/><code>"message": "PDF not available yet, try again later"</code><br/><code>}]</code><td style="text-align: left">Wait for the letter to finish processing. This usually takes a few seconds</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter that contains a virus</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "File did not pass the virus scan"</code><br/><code>}]</code><td style="text-align: left">You cannot retrieve the contents of a letter that contains a virus</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "PDF not available for letters in technical-failure"</code><br/><code>}]</code>
</td>
<td style="text-align: left">You cannot retrieve the contents of a letter in technical-failure</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "PDF not available for letters in technical-failure"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "PDF not available for letters in technical-failure"</code><br/><code>}]</code><td style="text-align: left">You cannot retrieve the contents of a letter in technical-failure</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Notification is not a letter"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that you are looking up the correct notification</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Notification is not a letter"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "ValidationError",</code><br/><code>"message": "Notification is not a letter"</code><br/><code>}]</code><td style="text-align: left">Check that you are looking up the correct notification</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the notification ID</td>
</tr><td style="text-align: left"><code>404</code></td><code>404</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code><td style="text-align: left">Check the notification ID</td>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-2">
            <h2 id="get-a-template">Get a template</h2>
        </div>
    
        
            
        <div class="heading-level-3">
            <h3 id="get-a-template-by-id">Get a template by ID</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <p>This returns the latest version of the template.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template</span><span class="p">(</span>
  <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template</span><span class="p">(</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="c1"># required string - template ID
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-a-template-by-id-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-a-template-by-id-arguments-template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The ID of the template. <a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a> and go to the <strong>Templates</strong> page to find it.</p><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><strong>Templates</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>.</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code></pre><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required string - template ID
</span><span class="s">"name"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - template name
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / email / letter"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template created
</span><span class="s">"updated_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template last updated
</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"created_by"</span><span class="p">:</span><span class="s">"someone@example.com"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="s">"letter_contact_block"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-arguments-template-id-required">template ID</a>
</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-arguments-template-id-required">template ID</a>
</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-arguments-template-id-required">template ID</a>
</td>
</tr><td style="text-align: left"><code>404</code></td><code>404</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code><td style="text-align: left">Check your <a href="#get-a-template-by-id-arguments-template-id-required">template ID</a>
</td><a href="#get-a-template-by-id-arguments-template-id-required">template ID</a>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="get-a-template-by-id-and-version">Get a template by ID and version</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-and-version-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template_version</span><span class="p">(</span>
    <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">'version'</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template_version</span><span class="p">(</span>
    <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">'version'</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
<span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template_version</span><span class="p">(</span>
    <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span> <span class="c1"># required string - template ID
</span>    <span class="s">'version'</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
<span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_template_version</span><span class="p">(</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="c1"># required string - template ID
</span><span class="s">'version'</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-a-template-by-id-and-version-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-a-template-by-id-and-version-arguments-template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The ID of the template. <a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a> and go to the <strong>Templates</strong> page to find it.</p><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><strong>Templates</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="version-required">version (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The version number of the template.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-and-version-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>.</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code></pre><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>    <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>    <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>    <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required string - template ID
</span><span class="s">"name"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - template name
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / email / letter"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template created
</span><span class="s">"updated_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template last updated
</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"created_by"</span><span class="p">:</span><span class="s">"someone@example.com"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="s">"letter_contact_block"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-a-template-by-id-and-version-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-and-version-arguments-template-id-required">template ID</a> and <a href="#version-required">version</a>
</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-and-version-arguments-template-id-required">template ID</a> and <a href="#version-required">version</a>
</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a><tr>
<td style="text-align: left"><code>404</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your <a href="#get-a-template-by-id-and-version-arguments-template-id-required">template ID</a> and <a href="#version-required">version</a>
</td>
</tr><td style="text-align: left"><code>404</code></td><code>404</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No Result Found"</code><br/><code>}]</code><td style="text-align: left">Check your <a href="#get-a-template-by-id-and-version-arguments-template-id-required">template ID</a> and <a href="#version-required">version</a>
</td><a href="#get-a-template-by-id-and-version-arguments-template-id-required">template ID</a><a href="#version-required">version</a>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="get-all-templates">Get all templates</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-all-templates-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <p>This returns the latest version of all templates.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_templates</span><span class="p">(</span>
    <span class="n">template_type</span><span class="o">=</span><span class="s">"sms / letter / email"</span> <span class="c1"># optional string
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_templates</span><span class="p">(</span>
    <span class="n">template_type</span><span class="o">=</span><span class="s">"sms / letter / email"</span> <span class="c1"># optional string
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_templates</span><span class="p">(</span>
    <span class="n">template_type</span><span class="o">=</span><span class="s">"sms / letter / email"</span> <span class="c1"># optional string
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">get_all_templates</span><span class="p">(</span><span class="n">template_type</span><span class="o">=</span><span class="s">"sms / letter / email"</span><span class="c1"># optional string
</span><span class="p">)</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-all-templates-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-all-templates-arguments-template-type-optional">template_type (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>If you leave out this argument, the method returns all templates. Otherwise you can filter by:</p><ul>
<li><code>email</code></li>
<li><code>sms</code></li>
<li><code>letter</code></li>
</ul><li><code>email</code></li><code>email</code><li><code>sms</code></li><code>sms</code><li><code>letter</code></li><code>letter</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-all-templates-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>.</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>            <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>            <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>            <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>            <span class="s">"version"</span><span class="p">:</span> <span class="n">NUMBER</span><span class="p">,</span> <span class="c1"># required string - template version
</span>            <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>            <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>            <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span>        <span class="p">},</span>
        <span class="p">{</span>
            <span class="p">...</span><span class="n">another</span> <span class="n">template</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>            <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>            <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>            <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>            <span class="s">"version"</span><span class="p">:</span> <span class="n">NUMBER</span><span class="p">,</span> <span class="c1"># required string - template version
</span>            <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>            <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>            <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span>        <span class="p">},</span>
        <span class="p">{</span>
            <span class="p">...</span><span class="n">another</span> <span class="n">template</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required string - template ID
</span>            <span class="s">"name"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - template name
</span>            <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>            <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template last updated
</span>            <span class="s">"version"</span><span class="p">:</span> <span class="n">NUMBER</span><span class="p">,</span> <span class="c1"># required string - template version
</span>            <span class="s">"created_by"</span><span class="p">:</span> <span class="s">"someone@example.com"</span><span class="p">,</span> <span class="c1"># required string
</span>            <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>            <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span>            <span class="s">"letter_contact_block"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># optional string - None if not a letter template or contact block not set
</span>        <span class="p">},</span>
        <span class="p">{</span>
            <span class="p">...</span><span class="n">another</span> <span class="n">template</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"templates"</span><span class="p">:</span><span class="p">[</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required string - template ID
</span><span class="s">"name"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - template name
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / email / letter"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template created
</span><span class="s">"updated_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template last updated
</span><span class="s">"version"</span><span class="p">:</span><span class="n">NUMBER</span><span class="p">,</span><span class="c1"># required string - template version
</span><span class="s">"created_by"</span><span class="p">:</span><span class="s">"someone@example.com"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="s">"letter_contact_block"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># optional string - None if not a letter template or contact block not set
</span><span class="p">},</span><span class="p">{</span><span class="p">...</span><span class="n">another</span><span class="n">template</span><span class="p">}</span><span class="p">]</span><span class="p">}</span><p>If no templates exist for a template type or there no templates for a service, the client returns a <code>dict</code> with an empty <code>templates</code> list element:</p><code>dict</code><code>templates</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
    <span class="s">"templates"</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"templates"</span><span class="p">:</span><span class="p">[]</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-3">
            <h3 id="generate-a-preview-template">Generate a preview template</h3>
        </div>
    
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="generate-a-preview-template-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <p>This generates a preview version of a template.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">post_template_preview</span><span class="p">(</span>
    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="p">},</span> <span class="c1"># required dict - specifies template parameters
</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">post_template_preview</span><span class="p">(</span>
    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="p">},</span> <span class="c1"># required dict - specifies template parameters
</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">notifications_client</span><span class="p">.</span><span class="n">post_template_preview</span><span class="p">(</span>
    <span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span> <span class="c1"># required UUID string
</span>    <span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="s">'KEY'</span><span class="p">:</span> <span class="s">'VALUE'</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="p">},</span> <span class="c1"># required dict - specifies template parameters
</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">notifications_client</span><span class="p">.</span><span class="n">post_template_preview</span><span class="p">(</span><span class="n">template_id</span><span class="o">=</span><span class="s">'f33517ff-2a88-4f6e-b855-c550268ce08a'</span><span class="p">,</span><span class="c1"># required UUID string
</span><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'KEY'</span><span class="p">:</span><span class="s">'VALUE'</span><span class="p">,</span><span class="s">'KEY'</span><span class="p">:</span><span class="s">'VALUE'</span><span class="p">,</span><span class="p">...</span><span class="p">},</span><span class="c1"># required dict - specifies template parameters
</span><span class="p">)</span><p>The parameters in the personalisation argument must match the placeholder fields in the actual template. The API notification client will ignore any extra fields in the method.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="generate-a-preview-template-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="generate-a-preview-template-arguments-template-id-required">template_id (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>The ID of the template. <a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a> and go to the <strong>Templates</strong> page to find it.</p><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><strong>Templates</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="generate-a-preview-template-arguments-personalisation-required">personalisation (required)</h5>
                    </summary>
                    <div class="contents">
                        <p>If a template has placeholder fields for personalised information such as name or reference number, you need to provide their values in a dictionary with key value pairs. For example:</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Amala'</span><span class="p">,</span>
    <span class="s">'application_date'</span><span class="p">:</span> <span class="s">'2018-01-01'</span><span class="p">,</span>
<span class="p">}</span>
</code><span class="n">personalisation</span><span class="o">=</span><span class="p">{</span><span class="s">'first_name'</span><span class="p">:</span><span class="s">'Amala'</span><span class="p">,</span><span class="s">'application_date'</span><span class="p">:</span><span class="s">'2018-01-01'</span><span class="p">,</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="generate-a-preview-template-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, you receive a <code>dict</code> response.</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span><span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span><span class="p">}</span>
</code></pre><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span> <span class="c1"># required string - notification ID
</span>    <span class="s">"type"</span><span class="p">:</span> <span class="s">"sms / email / letter"</span> <span class="p">,</span> <span class="c1"># required string
</span>    <span class="s">"version"</span><span class="p">:</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="s">"body"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - body of notification
</span>    <span class="s">"subject"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string for email - subject of email
</span><span class="p">}</span>
</code><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"740e5834-3a29-46b4-9a6f-16142fde533a"</span><span class="p">,</span><span class="c1"># required string - notification ID
</span><span class="s">"type"</span><span class="p">:</span><span class="s">"sms / email / letter"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"version"</span><span class="p">:</span><span class="n">INTEGER</span><span class="p">,</span><span class="s">"body"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - body of notification
</span><span class="s">"subject"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string for email - subject of email
</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="generate-a-preview-template-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code:</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">Notes</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Missing personalisation: [PERSONALISATION FIELD]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that the personalisation arguments in the method match the placeholder fields in the template</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the <a href="#generate-a-preview-template-arguments-template-id-required">template ID</a>
</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">Notes</th>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Missing personalisation: [PERSONALISATION FIELD]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that the personalisation arguments in the method match the placeholder fields in the template</td>
</tr><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the <a href="#generate-a-preview-template-arguments-template-id-required">template ID</a>
</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">Notes</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">Notes</th><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Missing personalisation: [PERSONALISATION FIELD]"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check that the personalisation arguments in the method match the placeholder fields in the template</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Missing personalisation: [PERSONALISATION FIELD]"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "BadRequestError",</code><br/><code>"message": "Missing personalisation: [PERSONALISATION FIELD]"</code><br/><code>}]</code><td style="text-align: left">Check that the personalisation arguments in the method match the placeholder fields in the template</td><tr>
<td style="text-align: left"><code>400</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check the <a href="#generate-a-preview-template-arguments-template-id-required">template ID</a>
</td>
</tr><td style="text-align: left"><code>400</code></td><code>400</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "NoResultFound",</code><br/><code>"message": "No result found"</code><br/><code>}]</code><td style="text-align: left">Check the <a href="#generate-a-preview-template-arguments-template-id-required">template ID</a>
</td><a href="#generate-a-preview-template-arguments-template-id-required">template ID</a><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="get-received-text-messages">Get received text messages</h2>
                    </summary>
                    <div class="contents">
                        <p>This API call returns one page of up to 250 received text messages. You can get either the most recent messages, or get older messages by specifying a particular notification ID in the older_than argument.</p><p>You can only get the status of messages that are 7 days old or newer.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="enable-received-text-messages">Enable received text messages</h3>
                    </summary>
                    <div class="contents">
                        <p>To receive text messages:</p><ol>
<li>Go to the <strong>Text message settings</strong> section of the <strong>Settings</strong> page.</li>
<li>Select <strong>Change</strong> on the <strong>Receive text messages</strong> row.</li>
</ol><li>Go to the <strong>Text message settings</strong> section of the <strong>Settings</strong> page.</li><strong>Text message settings</strong><strong>Settings</strong><li>Select <strong>Change</strong> on the <strong>Receive text messages</strong> row.</li><strong>Change</strong><strong>Receive text messages</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="get-all-received-text-messages">Get all received text messages</h3>
                    </summary>
                    <div class="contents">
                        <p>This method returns a <code>&lt;generator object&gt;</code> with all received text messages.</p><code>&lt;generator object&gt;</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-all-received-text-messages-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_received_texts_iterator</span><span class="p">()</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_received_texts_iterator</span><span class="p">()</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">get_received_texts_iterator</span><span class="p">()</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">get_received_texts_iterator</span><span class="p">()</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-all-received-text-messages-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client will return a <code>&lt;generator object&gt;</code> that will return all received text messages.</p><code>&lt;generator object&gt;</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_received_texts_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_received_texts_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code></pre><code><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_received_texts_iterator</span> <span class="n">at</span> <span class="mh">0x1026c7410</span><span class="o">&gt;</span>
</code><span class="o">&lt;</span><span class="n">generator</span><span class="nb">object</span><span class="n">NotificationsAPIClient</span><span class="p">.</span><span class="n">get_received_texts_iterator</span><span class="n">at</span><span class="mh">0x1026c7410</span><span class="o">&gt;</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="get-one-page-of-received-text-messages">Get one page of received text messages</h3>
                    </summary>
                    <div class="contents">
                        <p>This will return one page of up to 250 text messages.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-one-page-of-received-text-messages-method">Method</h4>
                    </summary>
                    <div class="contents">
                        <div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_received_texts</span><span class="p">(</span><span class="n">older_than</span><span class="p">)</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_received_texts</span><span class="p">(</span><span class="n">older_than</span><span class="p">)</span>
</code></pre><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_received_texts</span><span class="p">(</span><span class="n">older_than</span><span class="p">)</span>
</code><span class="n">response</span><span class="o">=</span><span class="n">client</span><span class="p">.</span><span class="n">get_received_texts</span><span class="p">(</span><span class="n">older_than</span><span class="p">)</span><p>You can specify which text messages to receive by inputting the ID of a received text message into the <a href="#get-one-page-of-received-text-messages-arguments-older-than-optional"><code>older_than</code></a> argument.</p><a href="#get-one-page-of-received-text-messages-arguments-older-than-optional"><code>older_than</code></a><code>older_than</code>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-4">
            <h4 id="get-one-page-of-received-text-messages-arguments">Arguments</h4>
        </div>
    
        
            
            <div class="heading-level-5">
                <details>
                    <summary>
                        <h5 id="get-one-page-of-received-text-messages-arguments-older-than-optional">older_than (optional)</h5>
                    </summary>
                    <div class="contents">
                        <p>Input the ID of a received text message into this argument. If you use this argument, the method returns the next 250 received text messages older than the given ID.</p><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code></pre></div><pre class="highlight python" tabindex="0"><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code></pre><code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span> <span class="c1"># optional string - notification ID
</span></code><span class="n">older_than</span><span class="o">=</span><span class="s">'740e5834-3a29-46b4-9a6f-16142fde533a'</span><span class="c1"># optional string - notification ID
</span><p>If you leave out this argument, the method returns the most recent 250 text messages.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-one-page-of-received-text-messages-response">Response</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request to the client is successful, the client returns a <code>dict</code>.</p><code>dict</code><div class="highlight"><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"received_text_messages"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - ID of received text message
</span>      <span class="s">"user_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"notify_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - receiving number
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>      <span class="s">"service_id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - service ID
</span>      <span class="s">"content"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string - text content
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/received-text-messages"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/received-text-messages?other_than=last_id_in_list"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><pre class="highlight python" tabindex="0"><code><span class="p">{</span>
  <span class="s">"received_text_messages"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - ID of received text message
</span>      <span class="s">"user_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"notify_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - receiving number
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>      <span class="s">"service_id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - service ID
</span>      <span class="s">"content"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string - text content
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/received-text-messages"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/received-text-messages?other_than=last_id_in_list"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><code><span class="p">{</span>
  <span class="s">"received_text_messages"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - ID of received text message
</span>      <span class="s">"user_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string
</span>      <span class="s">"notify_number"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - receiving number
</span>      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - date and time template created
</span>      <span class="s">"service_id"</span><span class="p">:</span> <span class="s">"STRING"</span><span class="p">,</span> <span class="c1"># required string - service ID
</span>      <span class="s">"content"</span><span class="p">:</span> <span class="s">"STRING"</span> <span class="c1"># required string - text content
</span>    <span class="p">},</span>
    <span class="err">…</span>
  <span class="p">],</span>
  <span class="s">"links"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"current"</span><span class="p">:</span> <span class="s">"/received-text-messages"</span><span class="p">,</span>
    <span class="s">"next"</span><span class="p">:</span> <span class="s">"/received-text-messages?other_than=last_id_in_list"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code><span class="p">{</span><span class="s">"received_text_messages"</span><span class="p">:</span><span class="p">[</span><span class="p">{</span><span class="s">"id"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - ID of received text message
</span><span class="s">"user_number"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string
</span><span class="s">"notify_number"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - receiving number
</span><span class="s">"created_at"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - date and time template created
</span><span class="s">"service_id"</span><span class="p">:</span><span class="s">"STRING"</span><span class="p">,</span><span class="c1"># required string - service ID
</span><span class="s">"content"</span><span class="p">:</span><span class="s">"STRING"</span><span class="c1"># required string - text content
</span><span class="p">},</span><span class="err">…</span><span class="p">],</span><span class="s">"links"</span><span class="p">:</span><span class="p">{</span><span class="s">"current"</span><span class="p">:</span><span class="s">"/received-text-messages"</span><span class="p">,</span><span class="s">"next"</span><span class="p">:</span><span class="s">"/received-text-messages?other_than=last_id_in_list"</span><span class="p">}</span><span class="p">}</span>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="get-one-page-of-received-text-messages-error-codes">Error codes</h4>
                    </summary>
                    <div class="contents">
                        <p>If the request is not successful, the client returns an <code>HTTPError</code> containing the relevant error code.</p><code>HTTPError</code><div class="table-container">
<table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr>
</table><tr>
<th style="text-align: left">error.status_code</th>
<th style="text-align: left">error.message</th>
<th style="text-align: left">How to fix</th>
</tr><th style="text-align: left">error.status_code</th><th style="text-align: left">error.message</th><th style="text-align: left">How to fix</th><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Check your system clock</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Error: Your system clock must be accurate to within 30 seconds"</code><br/><code>}]</code><td style="text-align: left">Check your system clock</td><tr>
<td style="text-align: left"><code>403</code></td>
<td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td>
<td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td>
</tr><td style="text-align: left"><code>403</code></td><code>403</code><td style="text-align: left">
<code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code>
</td><code>[{</code><br/><code>"error": "AuthError",</code><br/><code>"message": "Invalid token: API key not found"</code><br/><code>}]</code><td style="text-align: left">Use the correct API key. Refer to <a href="#api-keys">API keys</a> for more information</td><a href="#api-keys">API keys</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="error-messages">Error messages</h2>
                    </summary>
                    <div class="contents">
                        <p>Error messages consist of:</p><ul>
<li>a status_code, for example ‘400’</li>
<li>an error, for example ’BadRequestError’</li>
<li>a message, for example ‘Mobile numbers can only include: 0 1 2 3 4 5 6 7 8 9 ( ) + -‘</li>
</ul><li>a status_code, for example ‘400’</li><li>an error, for example ’BadRequestError’</li><li>a message, for example ‘Mobile numbers can only include: 0 1 2 3 4 5 6 7 8 9 ( ) + -‘</li><p>Do not use the content of the messages in your code. These can sometimes change, which may affect your API integration.</p><p>Use the status_code or the error instead, as these will not change.</p><p>Find error codes in:</p><ul>
<li><a href="#send-a-message">send a message</a></li>
<li><a href="#get-message-status">get message status</a></li>
<li><a href="#get-a-template">get a template</a></li>
<li><a href="#get-received-text-messages">get received text messages</a></li>
</ul><li><a href="#send-a-message">send a message</a></li><a href="#send-a-message">send a message</a><li><a href="#get-message-status">get message status</a></li><a href="#get-message-status">get message status</a><li><a href="#get-a-template">get a template</a></li><a href="#get-a-template">get a template</a><li><a href="#get-received-text-messages">get received text messages</a></li><a href="#get-received-text-messages">get received text messages</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="testing">Testing</h2>
                    </summary>
                    <div class="contents">
                        <p>All testing takes place in the production environment. There is no test environment for GOV.UK Notify.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="smoke-testing">Smoke testing</h3>
                    </summary>
                    <div class="contents">
                        <p>If you need to <a href="https://www.gov.uk/service-manual/technology/deploying-software-regularly#using-smoke-tests-after-you-deploy">smoke test</a> your integration with Notify on a regular basis, you  must use the following smoke test phone numbers and email addresses.</p><a href="https://www.gov.uk/service-manual/technology/deploying-software-regularly#using-smoke-tests-after-you-deploy">smoke test</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="phone-numbers">Phone numbers</h4>
                    </summary>
                    <div class="contents">
                        <ul>
<li>07700900000</li>
<li>07700900111</li>
<li>07700900222</li>
</ul><li>07700900000</li><li>07700900111</li><li>07700900222</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-4">
                <details>
                    <summary>
                        <h4 id="email-addresses">Email addresses</h4>
                    </summary>
                    <div class="contents">
                        <ul>
<li>simulate-delivered@notifications.service.gov.uk</li>
<li>simulate-delivered-2@notifications.service.gov.uk</li>
<li>simulate-delivered-3@notifications.service.gov.uk</li>
</ul><li>simulate-delivered@notifications.service.gov.uk</li><li>simulate-delivered-2@notifications.service.gov.uk</li><li>simulate-delivered-3@notifications.service.gov.uk</li><p>The smoke test phone numbers and email addresses will validate the request and simulate a successful response, but will not send a real message, produce a delivery receipt or persist the notification to the database.</p><p>You can use these smoke test numbers and addresses with any <a href="#api-keys">type of API key</a>.</p><a href="#api-keys">type of API key</a><p>You can smoke test all Notify API client functions except:</p><ul>
<li>Get the status of one message</li>
<li>Get the status of all messages</li>
</ul><li>Get the status of one message</li><li>Get the status of all messages</li><p>You cannot use the smoke test phone numbers or email address with these functions because they return a fake <code>notification_ID</code>. If you need to test these functions, use a test API key and any other phone number or email.</p><code>notification_ID</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="other-testing">Other testing</h3>
                    </summary>
                    <div class="contents">
                        <p>You must use a <a href="#test">test API key</a> to do non-smoke testing such as performance or integration testing. You can use any non-smoke testing phone numbers or email addresses. You do not need a specific Notify testing account.</p><a href="#test">test API key</a>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="api-keys">API keys</h2>
                    </summary>
                    <div class="contents">
                        <p>There are three different types of API keys:</p><ul>
<li>test</li>
<li>team and guest list</li>
<li>live</li>
</ul><li>test</li><li>team and guest list</li><li>live</li><p>When you set up a new service it will start in <a href="https://www.notifications.service.gov.uk/features/trial-mode">trial mode</a>. A service in trial mode can create test and team and guest list keys. You must have a live service to create a live key.</p><a href="https://www.notifications.service.gov.uk/features/trial-mode">trial mode</a><p>To create an API key:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>API integration</strong> page.</li>
<li>Select <strong>API keys</strong>.</li>
<li>Select <strong>Create an API key</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>API integration</strong> page.</li><strong>API integration</strong><li>Select <strong>API keys</strong>.</li><strong>API keys</strong><li>Select <strong>Create an API key</strong>.</li><strong>Create an API key</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="test">Test</h3>
                    </summary>
                    <div class="contents">
                        <p>Use a test key to test the performance of your service and its integration with GOV.UK Notify.</p><p>Messages sent using a test key:</p><ul>
<li>generate realistic responses</li>
<li>result in a delivered status</li>
<li>are not actually delivered to a recipient</li>
<li>do not appear on your dashboard</li>
<li>do not count against your text message and email allowances</li>
</ul><li>generate realistic responses</li><li>result in a delivered status</li><li>are not actually delivered to a recipient</li><li>do not appear on your dashboard</li><li>do not count against your text message and email allowances</li><p>To test failure responses with a test key, use the following numbers and addresses:</p><div class="table-container">
<table>
<tr>
<th style="text-align: left">Phone number/Email address</th>
<th style="text-align: left">Response</th>
</tr><tr>
<td style="text-align: left">07700900003</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><tr>
<td style="text-align: left">07700900002</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><tr>
<td style="text-align: left">temp-fail@simulator.notify</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><tr>
<td style="text-align: left">perm-fail@simulator.notify</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><tr>
<td style="text-align: left">any other valid number or address</td>
<td style="text-align: left"><code>delivered</code></td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Phone number/Email address</th>
<th style="text-align: left">Response</th>
</tr><tr>
<td style="text-align: left">07700900003</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><tr>
<td style="text-align: left">07700900002</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><tr>
<td style="text-align: left">temp-fail@simulator.notify</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><tr>
<td style="text-align: left">perm-fail@simulator.notify</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><tr>
<td style="text-align: left">any other valid number or address</td>
<td style="text-align: left"><code>delivered</code></td>
</tr>
</table><tr>
<th style="text-align: left">Phone number/Email address</th>
<th style="text-align: left">Response</th>
</tr><th style="text-align: left">Phone number/Email address</th><th style="text-align: left">Response</th><tr>
<td style="text-align: left">07700900003</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><td style="text-align: left">07700900003</td><td style="text-align: left"><code>temporary-failure</code></td><code>temporary-failure</code><tr>
<td style="text-align: left">07700900002</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><td style="text-align: left">07700900002</td><td style="text-align: left"><code>permanent-failure</code></td><code>permanent-failure</code><tr>
<td style="text-align: left">temp-fail@simulator.notify</td>
<td style="text-align: left"><code>temporary-failure</code></td>
</tr><td style="text-align: left">temp-fail@simulator.notify</td><td style="text-align: left"><code>temporary-failure</code></td><code>temporary-failure</code><tr>
<td style="text-align: left">perm-fail@simulator.notify</td>
<td style="text-align: left"><code>permanent-failure</code></td>
</tr><td style="text-align: left">perm-fail@simulator.notify</td><td style="text-align: left"><code>permanent-failure</code></td><code>permanent-failure</code><tr>
<td style="text-align: left">any other valid number or address</td>
<td style="text-align: left"><code>delivered</code></td>
</tr><td style="text-align: left">any other valid number or address</td><td style="text-align: left"><code>delivered</code></td><code>delivered</code><p>You do not have to revoke test keys.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="team-and-guest-list">Team and guest list</h3>
                    </summary>
                    <div class="contents">
                        <p>A team and guest list key lets you send real messages to your team members and addresses/numbers on your guest list while your service is still in trial mode.</p><p>You will get an error if you use these keys to send messages to anyone who is not on your team or your guest list.</p><p>Messages sent with a team and guest list key appear on your dashboard and count against your text message and email allowances.</p><p>You do not have to revoke team and guest list keys.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="live">Live</h3>
                    </summary>
                    <div class="contents">
                        <p>You can only create live keys once your service is live. You can use live keys to send messages to anyone.</p><p>Messages sent with a live key appear on your dashboard and count against your text message and email allowances.</p><p>You should revoke and re-create these keys on a regular basis. To revoke a key:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>API integration</strong> page.</li>
<li>Select <strong>API keys</strong>.</li>
<li>Select <strong>Revoke</strong> for the API key you want to revoke.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>API integration</strong> page.</li><strong>API integration</strong><li>Select <strong>API keys</strong>.</li><strong>API keys</strong><li>Select <strong>Revoke</strong> for the API key you want to revoke.</li><strong>Revoke</strong><p>You can have more than one active key at a time.</p><p>You should never send test messages to invalid numbers or addresses using a live key.</p>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-2">
            <h2 id="limits">Limits</h2>
        </div>
    
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="rate-limits">Rate limits</h3>
                    </summary>
                    <div class="contents">
                        <p>You’re limited to sending 3,000 messages per minute.</p><p>This limit is calculated on a rolling basis, per API key type. If you exceed the limit, you will get a <code>429</code> error <code>RateLimitError</code>.</p><code>429</code><code>RateLimitError</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="daily-limits">Daily limits</h3>
                    </summary>
                    <div class="contents">
                        <p>There’s a limit to the number of messages you can send each day:</p><div class="table-container">
<table>
<tr>
<th style="text-align: left">Service status</th>
<th style="text-align: left">Type of API key</th>
<th style="text-align: left">Daily limit</th>
</tr><tr>
<td style="text-align: left">Live</td>
<td style="text-align: left">Team or live</td>
<td style="text-align: left"><ul class="govuk-list govuk-!-font-size-16">
<li>250,000 emails</li>
<li>250,000 text messages</li>
<li>20,000 letters</li>
</ul></td>
</tr><tr>
<td style="text-align: left">Trial</td>
<td style="text-align: left">Team</td>
<td style="text-align: left">50 emails or text messages</td>
</tr><tr>
<td style="text-align: left">Live or trial</td>
<td style="text-align: left">Test</td>
<td style="text-align: left">Unlimited</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Service status</th>
<th style="text-align: left">Type of API key</th>
<th style="text-align: left">Daily limit</th>
</tr><tr>
<td style="text-align: left">Live</td>
<td style="text-align: left">Team or live</td>
<td style="text-align: left"><ul class="govuk-list govuk-!-font-size-16">
<li>250,000 emails</li>
<li>250,000 text messages</li>
<li>20,000 letters</li>
</ul></td>
</tr><tr>
<td style="text-align: left">Trial</td>
<td style="text-align: left">Team</td>
<td style="text-align: left">50 emails or text messages</td>
</tr><tr>
<td style="text-align: left">Live or trial</td>
<td style="text-align: left">Test</td>
<td style="text-align: left">Unlimited</td>
</tr>
</table><tr>
<th style="text-align: left">Service status</th>
<th style="text-align: left">Type of API key</th>
<th style="text-align: left">Daily limit</th>
</tr><th style="text-align: left">Service status</th><th style="text-align: left">Type of API key</th><th style="text-align: left">Daily limit</th><tr>
<td style="text-align: left">Live</td>
<td style="text-align: left">Team or live</td>
<td style="text-align: left"><ul class="govuk-list govuk-!-font-size-16">
<li>250,000 emails</li>
<li>250,000 text messages</li>
<li>20,000 letters</li>
</ul></td>
</tr><td style="text-align: left">Live</td><td style="text-align: left">Team or live</td><td style="text-align: left"><ul class="govuk-list govuk-!-font-size-16">
<li>250,000 emails</li>
<li>250,000 text messages</li>
<li>20,000 letters</li>
</ul></td><ul class="govuk-list govuk-!-font-size-16">
<li>250,000 emails</li>
<li>250,000 text messages</li>
<li>20,000 letters</li>
</ul><li>250,000 emails</li><li>250,000 text messages</li><li>20,000 letters</li><tr>
<td style="text-align: left">Trial</td>
<td style="text-align: left">Team</td>
<td style="text-align: left">50 emails or text messages</td>
</tr><td style="text-align: left">Trial</td><td style="text-align: left">Team</td><td style="text-align: left">50 emails or text messages</td><tr>
<td style="text-align: left">Live or trial</td>
<td style="text-align: left">Test</td>
<td style="text-align: left">Unlimited</td>
</tr><td style="text-align: left">Live or trial</td><td style="text-align: left">Test</td><td style="text-align: left">Unlimited</td><p>These limits reset at midnight UTC.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="phone-network-limits">Phone network limits</h3>
                    </summary>
                    <div class="contents">
                        <p>If you repeatedly send text messages to the same number the phone networks will block them.</p><p>There’s an hourly limit of:</p><ul>
<li>20 messages with the same content</li>
<li>100 messages with any content</li>
</ul><li>20 messages with the same content</li><li>100 messages with any content</li><p>Your messages may not be delivered if you exceed these limits.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="callbacks">Callbacks</h2>
                    </summary>
                    <div class="contents">
                        <p>Callbacks are when GOV.UK Notify sends <code>POST</code> requests to your service. You can get callbacks when:</p><code>POST</code><ul>
<li>a text message or email you’ve sent is delivered or fails</li>
<li>your service receives a text message</li>
</ul><li>a text message or email you’ve sent is delivered or fails</li><li>your service receives a text message</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="set-up-callbacks">Set up callbacks</h3>
                    </summary>
                    <div class="contents">
                        <p>You must provide:</p><ul>
<li>a URL where Notify will post the callback to</li>
<li>a bearer token which Notify will put in the authorisation header of the requests</li>
</ul><li>a URL where Notify will post the callback to</li><li>a bearer token which Notify will put in the authorisation header of the requests</li><p>To do this:</p><ol>
<li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li>
<li>Go to the <strong>API integration</strong> page.</li>
<li>Select <strong>Callbacks</strong>.</li>
</ol><li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a>.</li><a href="https://www.notifications.service.gov.uk/sign-in">Sign in to GOV.UK Notify</a><li>Go to the <strong>API integration</strong> page.</li><strong>API integration</strong><li>Select <strong>Callbacks</strong>.</li><strong>Callbacks</strong>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="retry-callbacks">Retry callbacks</h3>
                    </summary>
                    <div class="contents">
                        <p>If Notify sends a <code>POST</code> request to your service, but the request fails then we will retry.</p><code>POST</code><p>We will retry every 5 minutes, up to a maximum of 5 times.</p>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="delivery-receipts">Delivery receipts</h3>
                    </summary>
                    <div class="contents">
                        <p>When you send an email or text message, Notify will send a receipt to your callback URL with the status of the message. This is an automated method to get the status of messages.</p><p>This functionality works with test API keys, but does not work with smoke testing phone numbers or email addresses.</p><p>The callback message is formatted in JSON. All of the values are strings, apart from the template version, which is a number. The key, description and format of the callback message arguments will be:</p><div class="table-container">
<table>
<tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the status receipts</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>reference</code>
</th>
<td style="text-align: left">The reference sent by the service</td>
<td style="text-align: left">
<code>12345678</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>to</code>
</th>
<td style="text-align: left">The email address or phone number of the recipient</td>
<td style="text-align: left">
<code>hello@gov.uk</code> or <code>07700912345</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>status</code>
</th>
<td style="text-align: left">The status of the notification</td>
<td style="text-align: left">
<code>delivered</code>, <code>permanent-failure</code>, <code>temporary-failure</code> or <code>technical-failure</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>created_at</code>
</th>
<td style="text-align: left">The time the service sent the request</td>
<td style="text-align: left"><code>2017-05-14T12:15:30.000000Z</code></td>
</tr><tr>
<th scope="row" style="text-align: left"><code>completed_at</code>
</th>
<td style="text-align: left">The last time the status was updated</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sent_at</code>
</th>
<td style="text-align: left">The time the notification was sent</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>notification_type</code>
</th>
<td style="text-align: left">The notification type</td>
<td style="text-align: left">
<code>email</code> or <code>sms</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>template_id</code>
</th>
<td style="text-align: left">The id of the template that was used</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>template_version</code>
</th>
<td style="text-align: left">The version number of the template that was used</td>
<td style="text-align: left"><code>1</code></td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the status receipts</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>reference</code>
</th>
<td style="text-align: left">The reference sent by the service</td>
<td style="text-align: left">
<code>12345678</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>to</code>
</th>
<td style="text-align: left">The email address or phone number of the recipient</td>
<td style="text-align: left">
<code>hello@gov.uk</code> or <code>07700912345</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>status</code>
</th>
<td style="text-align: left">The status of the notification</td>
<td style="text-align: left">
<code>delivered</code>, <code>permanent-failure</code>, <code>temporary-failure</code> or <code>technical-failure</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>created_at</code>
</th>
<td style="text-align: left">The time the service sent the request</td>
<td style="text-align: left"><code>2017-05-14T12:15:30.000000Z</code></td>
</tr><tr>
<th scope="row" style="text-align: left"><code>completed_at</code>
</th>
<td style="text-align: left">The last time the status was updated</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>sent_at</code>
</th>
<td style="text-align: left">The time the notification was sent</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>notification_type</code>
</th>
<td style="text-align: left">The notification type</td>
<td style="text-align: left">
<code>email</code> or <code>sms</code>
</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>template_id</code>
</th>
<td style="text-align: left">The id of the template that was used</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>template_version</code>
</th>
<td style="text-align: left">The version number of the template that was used</td>
<td style="text-align: left"><code>1</code></td>
</tr>
</table><tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><th style="text-align: left">Key</th><th style="text-align: left">Description</th><th style="text-align: left">Format</th><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the status receipts</td>
<td style="text-align: left">UUID</td>
</tr><th scope="row" style="text-align: left"><code>id</code>
</th><code>id</code><td style="text-align: left">Notify’s id for the status receipts</td><td style="text-align: left">UUID</td><tr>
<th scope="row" style="text-align: left"><code>reference</code>
</th>
<td style="text-align: left">The reference sent by the service</td>
<td style="text-align: left">
<code>12345678</code> or null</td>
</tr><th scope="row" style="text-align: left"><code>reference</code>
</th><code>reference</code><td style="text-align: left">The reference sent by the service</td><td style="text-align: left">
<code>12345678</code> or null</td><code>12345678</code><tr>
<th scope="row" style="text-align: left"><code>to</code>
</th>
<td style="text-align: left">The email address or phone number of the recipient</td>
<td style="text-align: left">
<code>hello@gov.uk</code> or <code>07700912345</code>
</td>
</tr><th scope="row" style="text-align: left"><code>to</code>
</th><code>to</code><td style="text-align: left">The email address or phone number of the recipient</td><td style="text-align: left">
<code>hello@gov.uk</code> or <code>07700912345</code>
</td><code>hello@gov.uk</code><code>07700912345</code><tr>
<th scope="row" style="text-align: left"><code>status</code>
</th>
<td style="text-align: left">The status of the notification</td>
<td style="text-align: left">
<code>delivered</code>, <code>permanent-failure</code>, <code>temporary-failure</code> or <code>technical-failure</code>
</td>
</tr><th scope="row" style="text-align: left"><code>status</code>
</th><code>status</code><td style="text-align: left">The status of the notification</td><td style="text-align: left">
<code>delivered</code>, <code>permanent-failure</code>, <code>temporary-failure</code> or <code>technical-failure</code>
</td><code>delivered</code><code>permanent-failure</code><code>temporary-failure</code><code>technical-failure</code><tr>
<th scope="row" style="text-align: left"><code>created_at</code>
</th>
<td style="text-align: left">The time the service sent the request</td>
<td style="text-align: left"><code>2017-05-14T12:15:30.000000Z</code></td>
</tr><th scope="row" style="text-align: left"><code>created_at</code>
</th><code>created_at</code><td style="text-align: left">The time the service sent the request</td><td style="text-align: left"><code>2017-05-14T12:15:30.000000Z</code></td><code>2017-05-14T12:15:30.000000Z</code><tr>
<th scope="row" style="text-align: left"><code>completed_at</code>
</th>
<td style="text-align: left">The last time the status was updated</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><th scope="row" style="text-align: left"><code>completed_at</code>
</th><code>completed_at</code><td style="text-align: left">The last time the status was updated</td><td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td><code>2017-05-14T12:15:30.000000Z</code><tr>
<th scope="row" style="text-align: left"><code>sent_at</code>
</th>
<td style="text-align: left">The time the notification was sent</td>
<td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td>
</tr><th scope="row" style="text-align: left"><code>sent_at</code>
</th><code>sent_at</code><td style="text-align: left">The time the notification was sent</td><td style="text-align: left">
<code>2017-05-14T12:15:30.000000Z</code> or null</td><code>2017-05-14T12:15:30.000000Z</code><tr>
<th scope="row" style="text-align: left"><code>notification_type</code>
</th>
<td style="text-align: left">The notification type</td>
<td style="text-align: left">
<code>email</code> or <code>sms</code>
</td>
</tr><th scope="row" style="text-align: left"><code>notification_type</code>
</th><code>notification_type</code><td style="text-align: left">The notification type</td><td style="text-align: left">
<code>email</code> or <code>sms</code>
</td><code>email</code><code>sms</code><tr>
<th scope="row" style="text-align: left"><code>template_id</code>
</th>
<td style="text-align: left">The id of the template that was used</td>
<td style="text-align: left">UUID</td>
</tr><th scope="row" style="text-align: left"><code>template_id</code>
</th><code>template_id</code><td style="text-align: left">The id of the template that was used</td><td style="text-align: left">UUID</td><tr>
<th scope="row" style="text-align: left"><code>template_version</code>
</th>
<td style="text-align: left">The version number of the template that was used</td>
<td style="text-align: left"><code>1</code></td>
</tr><th scope="row" style="text-align: left"><code>template_version</code>
</th><code>template_version</code><td style="text-align: left">The version number of the template that was used</td><td style="text-align: left"><code>1</code></td><code>1</code>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="received-text-messages">Received text messages</h3>
                    </summary>
                    <div class="contents">
                        <p>If your service receives text messages in Notify, Notify can forward them to your callback URL as soon as they arrive.</p><p>Find out <a href="https://www.notifications.service.gov.uk/using-notify/receive-text-messages">how to let people send text messages to your service</a>.</p><a href="https://www.notifications.service.gov.uk/using-notify/receive-text-messages">how to let people send text messages to your service</a><p>The callback message is formatted in JSON. All of the values are strings. The key, description and format of the callback message arguments will be:</p><div class="table-container">
<table>
<tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the received message</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>source_number</code>
</th>
<td style="text-align: left">The phone number the message was sent from</td>
<td style="text-align: left">447700912345</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>destination_number</code>
</th>
<td style="text-align: left">The number the message was sent to (your number)</td>
<td style="text-align: left">07700987654</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>message</code>
</th>
<td style="text-align: left">The received message</td>
<td style="text-align: left">Hello Notify!</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>date_received</code>
</th>
<td style="text-align: left">The UTC datetime that the message was received by Notify</td>
<td style="text-align: left">2017-05-14T12:15:30.000000Z</td>
</tr>
</table>
</div><table>
<tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the received message</td>
<td style="text-align: left">UUID</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>source_number</code>
</th>
<td style="text-align: left">The phone number the message was sent from</td>
<td style="text-align: left">447700912345</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>destination_number</code>
</th>
<td style="text-align: left">The number the message was sent to (your number)</td>
<td style="text-align: left">07700987654</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>message</code>
</th>
<td style="text-align: left">The received message</td>
<td style="text-align: left">Hello Notify!</td>
</tr><tr>
<th scope="row" style="text-align: left"><code>date_received</code>
</th>
<td style="text-align: left">The UTC datetime that the message was received by Notify</td>
<td style="text-align: left">2017-05-14T12:15:30.000000Z</td>
</tr>
</table><tr>
<th style="text-align: left">Key</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Format</th>
</tr><th style="text-align: left">Key</th><th style="text-align: left">Description</th><th style="text-align: left">Format</th><tr>
<th scope="row" style="text-align: left"><code>id</code>
</th>
<td style="text-align: left">Notify’s id for the received message</td>
<td style="text-align: left">UUID</td>
</tr><th scope="row" style="text-align: left"><code>id</code>
</th><code>id</code><td style="text-align: left">Notify’s id for the received message</td><td style="text-align: left">UUID</td><tr>
<th scope="row" style="text-align: left"><code>source_number</code>
</th>
<td style="text-align: left">The phone number the message was sent from</td>
<td style="text-align: left">447700912345</td>
</tr><th scope="row" style="text-align: left"><code>source_number</code>
</th><code>source_number</code><td style="text-align: left">The phone number the message was sent from</td><td style="text-align: left">447700912345</td><tr>
<th scope="row" style="text-align: left"><code>destination_number</code>
</th>
<td style="text-align: left">The number the message was sent to (your number)</td>
<td style="text-align: left">07700987654</td>
</tr><th scope="row" style="text-align: left"><code>destination_number</code>
</th><code>destination_number</code><td style="text-align: left">The number the message was sent to (your number)</td><td style="text-align: left">07700987654</td><tr>
<th scope="row" style="text-align: left"><code>message</code>
</th>
<td style="text-align: left">The received message</td>
<td style="text-align: left">Hello Notify!</td>
</tr><th scope="row" style="text-align: left"><code>message</code>
</th><code>message</code><td style="text-align: left">The received message</td><td style="text-align: left">Hello Notify!</td><tr>
<th scope="row" style="text-align: left"><code>date_received</code>
</th>
<td style="text-align: left">The UTC datetime that the message was received by Notify</td>
<td style="text-align: left">2017-05-14T12:15:30.000000Z</td>
</tr><th scope="row" style="text-align: left"><code>date_received</code>
</th><code>date_received</code><td style="text-align: left">The UTC datetime that the message was received by Notify</td><td style="text-align: left">2017-05-14T12:15:30.000000Z</td>
                    </div>
                </details>
            </div>
        
        
            
        <div class="heading-level-2">
            <h2 id="api-architecture">API architecture</h2>
        </div>
    
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="architecture-for-sending-a-text-message">Architecture for sending a text message</h3>
                    </summary>
                    <div class="contents">
                        <p><a href="documentation/images/notify-architecture-text-message-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-text-message-2020.png"/></a></p><a href="documentation/images/notify-architecture-text-message-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-text-message-2020.png"/></a><img alt="" src="/documentation/images/notify-architecture-text-message-2020.png"/><ol>
<li>The service sends a text message notification to Notify.</li>
<li>Notify sends the text message to the provider.</li>
<li>The provider delivers the text message to the recipient.</li>
<li>The recipient receives the text message and sends a delivery receipt to the provider.</li>
<li>The provider sends the delivery receipt to Notify.</li>
<li>Notify receives the delivery receipt and sends an API response to the service.</li>
<li>The service receives the API response.</li>
</ol><li>The service sends a text message notification to Notify.</li><li>Notify sends the text message to the provider.</li><li>The provider delivers the text message to the recipient.</li><li>The recipient receives the text message and sends a delivery receipt to the provider.</li><li>The provider sends the delivery receipt to Notify.</li><li>Notify receives the delivery receipt and sends an API response to the service.</li><li>The service receives the API response.</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="architecture-for-sending-an-email">Architecture for sending an email</h3>
                    </summary>
                    <div class="contents">
                        <p><a href="documentation/images/notify-architecture-email-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-email-2020.png"/></a></p><a href="documentation/images/notify-architecture-email-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-email-2020.png"/></a><img alt="" src="/documentation/images/notify-architecture-email-2020.png"/><ol>
<li>The service sends an email notification to Notify.</li>
<li>Notify sends the email to the provider.</li>
<li>The provider delivers the email to the recipient.</li>
<li>The recipient receives the email and sends a delivery receipt to the provider.</li>
<li>The provider sends the delivery receipt to Notify.</li>
<li>Notify receives the delivery receipt and sends an API response to the service.</li>
<li>The service receives the API response.</li>
</ol><li>The service sends an email notification to Notify.</li><li>Notify sends the email to the provider.</li><li>The provider delivers the email to the recipient.</li><li>The recipient receives the email and sends a delivery receipt to the provider.</li><li>The provider sends the delivery receipt to Notify.</li><li>Notify receives the delivery receipt and sends an API response to the service.</li><li>The service receives the API response.</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="architecture-for-sending-a-letter">Architecture for sending a letter</h3>
                    </summary>
                    <div class="contents">
                        <p><a href="documentation/images/notify-architecture-letter-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-letter-2020.png"/></a></p><a href="documentation/images/notify-architecture-letter-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-letter-2020.png"/></a><img alt="" src="/documentation/images/notify-architecture-letter-2020.png"/><ol>
<li>The service sends a letter notification to Notify.</li>
<li>Notify sends the letter to the provider.</li>
<li>The provider prints the letter and posts it.</li>
<li>The postal service delivers the letter.</li>
<li>The recipient receives the letter.</li>
</ol><li>The service sends a letter notification to Notify.</li><li>Notify sends the letter to the provider.</li><li>The provider prints the letter and posts it.</li><li>The postal service delivers the letter.</li><li>The recipient receives the letter.</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="architecture-for-getting-the-status-of-a-message">Architecture for getting the status of a message</h3>
                    </summary>
                    <div class="contents">
                        <p><a href="documentation/images/notify-architecture-get-status-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-get-status-2020.png"/></a></p><a href="documentation/images/notify-architecture-get-status-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-get-status-2020.png"/></a><img alt="" src="/documentation/images/notify-architecture-get-status-2020.png"/><ol>
<li>The service requests a notification status from Notify.</li>
<li>Notify queries the database and retrieves the notification status.</li>
<li>Notify sends the API response with the notification status to the service.</li>
<li>The service receives the API response.</li>
</ol><li>The service requests a notification status from Notify.</li><li>Notify queries the database and retrieves the notification status.</li><li>Notify sends the API response with the notification status to the service.</li><li>The service receives the API response.</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-3">
                <details>
                    <summary>
                        <h3 id="architecture-for-getting-received-text-messages">Architecture for getting received text messages</h3>
                    </summary>
                    <div class="contents">
                        <p><a href="documentation/images/notify-architecture-received-text-messages-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-received-text-messages-2020.png"/></a></p><a href="documentation/images/notify-architecture-received-text-messages-2020.png" rel="noopener noreferrer"><img alt="" src="/documentation/images/notify-architecture-received-text-messages-2020.png"/></a><img alt="" src="/documentation/images/notify-architecture-received-text-messages-2020.png"/><ol>
<li>Recipients send text messages.</li>
<li>Notify receives the text messages.</li>
<li>The service requests all or specific received text messages from Notify.</li>
<li>Notify receives the request for received text messages.</li>
<li>Notify sends the received text messages to the service.</li>
<li>The service receives the received text messages.</li>
</ol><li>Recipients send text messages.</li><li>Notify receives the text messages.</li><li>The service requests all or specific received text messages from Notify.</li><li>Notify receives the request for received text messages.</li><li>Notify sends the received text messages to the service.</li><li>The service receives the received text messages.</li>
                    </div>
                </details>
            </div>
        
        
            
            <div class="heading-level-2">
                <details>
                    <summary>
                        <h2 id="support">Support</h2>
                    </summary>
                    <div class="contents">
                        <p>Report any problems via the <a href="https://www.notifications.service.gov.uk/support">GOV.UK Notify support page</a>.</p><a href="https://www.notifications.service.gov.uk/support">GOV.UK Notify support page</a><p>You can also:</p><ul>
<li>check the <a href="https://status.notifications.service.gov.uk/">GOV.UK Notify system status page</a></li>
<li>ask the team on the GOV.UK Notify <a href="https://ukgovernmentdigital.slack.com/messages/C0E1ADVPC">Slack channel</a></li>
</ul><li>check the <a href="https://status.notifications.service.gov.uk/">GOV.UK Notify system status page</a></li><a href="https://status.notifications.service.gov.uk/">GOV.UK Notify system status page</a><li>ask the team on the GOV.UK Notify <a href="https://ukgovernmentdigital.slack.com/messages/C0E1ADVPC">Slack channel</a></li><a href="https://ukgovernmentdigital.slack.com/messages/C0E1ADVPC">Slack channel</a>
                    </div>
                </details>
            </div>
        
        
    </body>
</html>
